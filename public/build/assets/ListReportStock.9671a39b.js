import{r as b,P as M,J as g,B as S,h as N,d as x,o as s,c as l,a as e,f,t as a,i as n,w,j as C,u as i,e as p,F as v,v as E,E as V,b as k,k as L,y as O}from"./app.1d013a92.js";import{A as P}from"./AppLayout.3fa14f28.js";import{_ as z}from"./PaginateMe.c272c737.js";import{d as y,b as A}from"./buddhistEra.ee9c9375.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Navbar.aa7e1d33.js";const D={key:0,class:"alert-banner fixed right-0 m-2 w-5/6 md:w-full max-w-sm"},F=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1),R={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-red-300 shadow rounded-md text-red-800 font-bold",title:"close",for:"banneralert"},$=e("svg",{class:"fill-current text-white",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),q=e("h4",{class:"mt-3 text-center text-black"},"\u0E23\u0E30\u0E1A\u0E38\u0E0A\u0E37\u0E48\u0E2D\u0E04\u0E25\u0E31\u0E07\u0E27\u0E31\u0E2A\u0E14\u0E38\u0E17\u0E35\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E14\u0E39\u0E23\u0E32\u0E22\u0E07\u0E32\u0E19",-1),I={class:"flex flex-col mb-2 text-md font-bold text-gray-900"},J={class:"m-2"},T=e("label",{for:""},"\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E0A\u0E37\u0E48\u0E2D\u0E04\u0E25\u0E31\u0E07\u0E27\u0E31\u0E2A\u0E14\u0E38",-1),U={key:0,class:"text-red-600"},G=["value"],H={class:"flex flex-col"},K={key:1,class:"p-2 mt-3 text-center text-red-600 font-bold"},Q={key:2,class:"p-2 mt-3 text-center font-bold"},W={class:"p-2 mt-1 text-center font-bold"},X={key:3,class:"p-2 text-center font-bold"},Y={key:4,class:"w-full"},Z={key:5,class:"w-full p-2"},ee={key:0},te=e("div",{class:"w-full my-3 border-b-4 border-gray-500 shadow-sm hidden lg:block"},[e("div",{class:"flex flex-col text-xs lg:flex-row lg:justify-between mx-2"},[e("div",{class:"lg:w-2/12"}," SAP-\u0E0A\u0E37\u0E48\u0E2D\u0E27\u0E31\u0E2A\u0E14\u0E38 "),e("div",{class:"lg:w-1/12"}," \u0E08\u0E33\u0E19\u0E27\u0E19\u0E04\u0E07\u0E40\u0E2B\u0E25\u0E37\u0E2D "),e("div",{class:"lg:w-1/12"}," \u0E23\u0E32\u0E04\u0E32 "),e("div",{class:"lg:w-3/12"}," \u0E0A\u0E37\u0E48\u0E2D\u0E1A\u0E23\u0E34\u0E29\u0E31\u0E17 "),e("div",{class:"lg:w-2/12"}," Pur.Order "),e("div",{class:"lg:w-1/12"}," Invoice Number "),e("div",{class:"lg:w-1/12"}," \u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E23\u0E31\u0E1A\u0E40\u0E02\u0E49\u0E32 "),e("div",{class:"lg:w-1/12 text-xs"}," \u0E1B\u0E23\u0E30\u0E27\u0E31\u0E15\u0E34\u0E23\u0E31\u0E1A\u0E40\u0E02\u0E49\u0E32-\u0E40\u0E1A\u0E34\u0E01\u0E2D\u0E2D\u0E01 ")])],-1),se={class:"w-full mt-3"},le={class:"flex flex-col lg:flex-row"},oe={class:"bg-blue-100 lg:bg-transparent lg:w-2/12 lg:text-xs"},ae={for:"",class:""},ce={class:"font-bold"},re={for:"",class:"text-blue-600"},ne={class:"lg:w-1/12"},de=e("label",{for:"",class:"lg:hidden"},"\u0E08\u0E33\u0E19\u0E27\u0E19\u0E04\u0E07\u0E40\u0E2B\u0E25\u0E37\u0E2D:",-1),ie={class:"inline-flex px-2 text-lg font-semibold leading-5 text-green-800 bg-green-100 rounded-full"},ue=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})],-1),he={class:"lg:w-1/12"},_e=e("label",{for:"",class:"lg:hidden"},"\u0E23\u0E32\u0E04\u0E32:",-1),fe={class:"ml-2"},me={class:"lg:w-3/12 lg:text-xs"},be=e("label",{for:"",class:"lg:hidden"},"\u0E0A\u0E37\u0E48\u0E2D\u0E1A\u0E23\u0E34\u0E29\u0E31\u0E17:",-1),ge={class:"ml-2"},xe={class:"lg:w-2/12 lg:text-xs"},we=e("label",{for:"",class:"lg:hidden"},"Pur.Order:",-1),pe={key:0,for:"",class:"text-xs text-green-700"},ve={key:1,for:"",class:"text-xs text-yellow-600"},ke={class:"ml-2"},ye={class:"lg:w-1/12 lg:text-xs"},je=e("label",{for:"",class:"lg:hidden"},"Invoice Number:",-1),Be={class:"ml-2"},Me={class:"lg:w-1/12 lg:text-xs"},Se=e("label",{for:"",class:"lg:hidden"},"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E23\u0E31\u0E1A\u0E40\u0E02\u0E49\u0E32:",-1),Ne={class:"ml-2"},Ce={class:"lg:w-1/12"},Ee=e("label",{for:"",class:"hidden"}," \u0E1B\u0E23\u0E30\u0E27\u0E31\u0E15\u0E34\u0E23\u0E31\u0E1A\u0E40\u0E02\u0E49\u0E32-\u0E40\u0E1A\u0E34\u0E01\u0E2D\u0E2D\u0E01",-1),Ve=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 text-green-700"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),Le=["href"],Re={name:"ListReportStock",props:{stocks:{type:Object,required:!1},stock_items:Object,stock_items_count:{type:Number},stock_selected:{type:Number},stock_selected_name:{type:Object,required:!1},filters:{type:Object}},setup(o){const h=o;y.extend(A);let u=b(h.filters.search);const _=b(!1),r=M({stock_selected:h.stock_selected?h.stock_selected:0,unitid:g().props.auth.user.unitid?g().props.auth.user.unitid:0}),m=c=>c.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");S(u,c=>{O.get(route("report-list",r.unitid),{search:c,stock_selected:r.stock_selected},{preserveState:!0,replace:!0})});const j=()=>{if(_.value=!1,r.stock_selected.length==0)return _.value=!0,!1;r.get(route("report-list",r.unitid),{preserveState:!0,preserveScroll:!0,onSuccess:c=>{},onError:c=>{},onFinish:c=>{console.log("finish")}})};return(c,d)=>(s(),N(P,null,{default:x(()=>[c.$page.props.flash.status=="error"?(s(),l("div",D,[F,e("label",R,[f(a(c.$page.props.flash.msg)+" ",1),$])])):n("",!0),q,e("div",I,[e("div",J,[T,_.value?(s(),l("label",U," !\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E04\u0E25\u0E31\u0E07\u0E27\u0E31\u0E2A\u0E14\u0E38")):n("",!0),w(e("select",{name:"",id:"","onUpdate:modelValue":d[0]||(d[0]=t=>i(r).stock_selected=t),class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-2 py-2 pr-6 rounded shadow leading-tight focus:outline-none focus:shadow-outline"},[(s(!0),l(v,null,p(o.stocks,t=>(s(),l("option",{key:t.id,value:t.id},a(t.stockname),9,G))),128))],512),[[C,i(r).stock_selected]])])]),e("div",H,[e("button",{class:"w-full flex justify-center px-8 py-2 mb-2 text-sm text-white bg-blue-600 rounded-md hover:bg-blue-400 focus:outline-none",onClick:d[1]||(d[1]=t=>j())}," \u0E04\u0E49\u0E19\u0E2B\u0E32 ")]),o.stock_items_count==0?(s(),l("h1",K,"\u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E27\u0E31\u0E2A\u0E14\u0E38\u0E43\u0E19\u0E04\u0E25\u0E31\u0E07\u0E17\u0E35\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E14\u0E39\u0E23\u0E32\u0E22\u0E07\u0E32\u0E19 ")):n("",!0),o.stock_items_count!=0?(s(),l("h1",Q,"\u0E23\u0E32\u0E22\u0E07\u0E32\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E04\u0E07\u0E40\u0E2B\u0E25\u0E37\u0E2D\u0E43\u0E19\u0E04\u0E25\u0E31\u0E07\u0E27\u0E31\u0E2A\u0E14\u0E38 ")):n("",!0),e("h1",W,a(i(r).stock_selected.text),1),o.stock_selected_name?(s(),l("h1",X,a(o.stock_selected_name.stockname),1)):n("",!0),o.stock_items_count!=0?(s(),l("div",Y,[w(e("input",{type:"text",placeholder:"\u0E1E\u0E34\u0E21\u0E1E\u0E4C\u0E23\u0E2B\u0E31\u0E2A\u0E27\u0E31\u0E2A\u0E14\u0E38 \u0E2B\u0E23\u0E37\u0E2D\u0E0A\u0E37\u0E48\u0E2D\u0E27\u0E31\u0E2A\u0E14\u0E38 \u0E2B\u0E23\u0E37\u0E2D\u0E0A\u0E37\u0E48\u0E2D\u0E1A\u0E23\u0E34\u0E29\u0E31\u0E17 \u0E17\u0E35\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E04\u0E49\u0E19\u0E2B\u0E32","onUpdate:modelValue":d[2]||(d[2]=t=>V(u)?u.value=t:u=t),class:"mt-2 border-green-600 border-2 block w-full shadow-sm sm:text-sm rounded-md"},null,512),[[E,i(u)]])])):n("",!0),o.stock_items_count!=0?(s(),l("div",Z,[e("div",null,[o.stock_items?(s(),l("div",ee,[k(z,{pagination:o.stock_items},null,8,["pagination"])])):n("",!0),te]),e("div",se,[(s(!0),l(v,null,p(o.stock_items.data,(t,B)=>(s(),l("div",{key:t.index,class:"w-full border-b-2 border-gray-500 shadow-sm"},[e("div",le,[e("div",oe,[e("label",ae,a(o.stock_items.from+B)+". ",1),e("label",ce,[f(a(t.item_code)+" ",1),e("label",re,"-"+a(t.item_name),1)])]),e("div",ne,[de,e("span",ie,[ue,f(a(m(t.item_balance)),1)])]),e("div",he,[_e,e("label",fe,a(m(t.price_last)),1)]),e("div",me,[be,e("label",ge,a(t.business_name),1)]),e("div",xe,[we,t.status==1?(s(),l("label",pe,"\u0E2A\u0E31\u0E0D\u0E0D\u0E32\u0E0B\u0E37\u0E49\u0E2D")):(s(),l("label",ve,"\u0E43\u0E1A\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E37\u0E49\u0E2D")),e("label",ke,a(t.pur_order),1)]),e("div",ye,[je,e("label",Be,a(t.invoice_number),1)]),e("div",Me,[Se,e("label",Ne,a(i(y)(t.checkin_last.date_action).locale("th").format("D MMM BBBB")),1)]),e("div",Ce,[Ee,k(i(L),{href:c.route("list-stock-item",t)},{default:x(()=>[Ve]),_:2},1032,["href"])])])]))),128)),e("a",{class:"flex justify-center mt-3 px-8 py-1 text-md text-white bg-blue-700 rounded-sm shadow-md hover:bg-blue-500 focus:outline-none",href:c.route("export-balance-stock",o.stock_items.data[0].stock_id)}," Export Excel ",8,Le)])])):n("",!0)]),_:1}))}};export{Re as default};
