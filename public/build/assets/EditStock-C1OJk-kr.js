import{r as _,C as L,i as j,e as u,o as a,c as i,a as e,b as p,t as d,j as c,w as b,v as w,u as r,f as $,l as B,F as M,d as g,P as S}from"./app-COSzDVcX.js";import{A as V}from"./AppLayout-CXJA5S0q.js";import{_ as C}from"./ModalUpToYou-DuEWbdcE.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Navbar-Bb8cE4cx.js";const E={key:0,class:"alert-banner fixed right-0 m-4 w-2/3 md:w-full max-w-sm"},N={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-green-300 shadow rounded-md text-green-800 font-bold",title:"close",for:"banneralert"},z={key:1,class:"alert-banner fixed right-0 m-4 w-2/3 md:w-full max-w-sm"},A={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-yellow-200 shadow rounded-md text-yellow-800 font-bold",title:"close",for:"banneralert"},O={key:2,class:"alert-banner fixed right-0 m-4 w-2/3 md:w-full max-w-sm"},U={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-red-200 shadow rounded-md text-red-800 font-bold",title:"close",for:"banneralert"},D={class:"w-full p-4 flex-col justify-center bg-blue-100 rounded-md"},F={class:"w-full bg-blue-100 p-2 rounded-md"},P={for:""},T={class:"w-full bg-blue-100 p-2 rounded-md"},q={class:"w-full bg-blue-100 p-2 rounded-md"},R={class:"w-full bg-blue-100 p-2 rounded-md"},G=["value"],H={for:"one"},I={class:""},J={class:"text-gray-900 text-md font-medium"},K={class:"flex justify-start w-full text-sm"},Q={class:"flex justify-start w-full text-sm"},te={__name:"EditStock",props:{stock:{type:Object},stock_status_list:{type:Array,required:!0}},setup(f){const o=f,m=_(!1),k=l=>o.stock_status_list[l-1].desc,h=()=>{m.value=!1},s=L({stock_id:o.stock.id,stock_name_thai:o.stock.stockname?o.stock.stockname:"",stock_name_en:o.stock.stockengname?o.stock.stockengname:"",stock_status:o.stock.status?o.stock.status:0,unit:o.stock.unit_id?o.stock.unit_id:""}),x=()=>{m.value=!0},v=()=>{m.value=!1,s.post(route("update-stock",s.stock_id),{preserveState:!1,preserveScroll:!0})};return(l,t)=>(a(),j(V,null,{default:u(()=>[l.$page.props.flash.status=="success"?(a(),i("div",E,[t[5]||(t[5]=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1)),e("label",N,[p(d(l.$page.props.flash.msg)+" ",1),t[4]||(t[4]=e("svg",{class:"fill-current text-white",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1))])])):c("",!0),l.$page.props.flash.status=="warning"?(a(),i("div",z,[t[7]||(t[7]=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1)),e("label",A,[p(d(l.$page.props.flash.msg)+" ",1),t[6]||(t[6]=e("svg",{class:"fill-current text-red",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1))])])):c("",!0),l.$page.props.flash.status=="error"?(a(),i("div",O,[t[9]||(t[9]=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1)),e("label",U,[p(d(l.$page.props.flash.msg)+" ",1),t[8]||(t[8]=e("svg",{class:"fill-current text-red",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1))])])):c("",!0),e("div",D,[t[15]||(t[15]=e("div",{class:"text-center text-lg font-bold"},[e("p",{class:"my-2"},"แก้ไขข้อมูลคลังวัสดุ")],-1)),e("div",null,[e("div",F,[t[10]||(t[10]=e("div",{class:"mt-3"},[e("label",{for:""},"หน่วยงาน/สาขา:")],-1)),e("label",P,d(f.stock.unit.unitname),1)]),e("div",T,[t[11]||(t[11]=e("div",{class:"mt-3"},[e("label",{for:""},"ระบุชื่อคลังวัสดุ(ภาษาไทย):")],-1)),b(e("input",{type:"text",class:"w-full py-2 rounded-md","onUpdate:modelValue":t[0]||(t[0]=n=>r(s).stock_name_thai=n)},null,512),[[w,r(s).stock_name_thai]])]),e("div",q,[t[12]||(t[12]=e("div",{class:"mt-3"},[e("label",{for:""},"ระบุชื่อคลังวัสดุ(ภาษาอังกฤษ):")],-1)),b(e("input",{type:"text",class:"w-full py-2 rounded-md","onUpdate:modelValue":t[1]||(t[1]=n=>r(s).stock_name_en=n)},null,512),[[w,r(s).stock_name_en]])]),e("div",R,[t[13]||(t[13]=e("div",{class:"mt-3"},[e("label",{for:""},"ระบุสถานะคลังวัสดุ:")],-1)),(a(!0),i(M,null,$(f.stock_status_list,n=>(a(),i("div",{key:n.id,class:"form-check"},[b(e("input",{type:"radio",value:n.id,"onUpdate:modelValue":t[2]||(t[2]=y=>r(s).stock_status=y),class:"form-check-input appearance-none rounded-full h-4 w-4 border border-gray-300 bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer"},null,8,G),[[B,r(s).stock_status]]),e("label",H,d(n.desc),1)]))),128))]),e("div",I,[l.$page.props.auth.user.roles[0].name=="admin_med_stock"?(a(),i("button",{key:0,type:"submit",class:"w-full flex justify-center py-2 text-md bg-green-500 hover:bg-green-700 text-white border border-green-500 rounded",onClick:t[3]||(t[3]=n=>x())}," แก้ไข ")):c("",!0),g(r(S),{href:l.route("stock-add")},{default:u(()=>t[14]||(t[14]=[e("div",{class:"w-full flex justify-center my-2 py-2 text-md bg-blue-500 hover:bg-blue-700 text-white border border-blue-500 rounded"},[e("span",{class:"text-white ml-2"},"กลับ")],-1)])),_:1},8,["href"])])])]),g(C,{isModalOpen:m.value},{header:u(()=>t[16]||(t[16]=[e("p",{class:"text-md font-bold text-red-600"},"คุณต้องการแก้ไขข้อมูลใช่หรือไม่?",-1)])),body:u(()=>[e("div",J,[e("label",K," ชื่อคลัง: "+d(r(s).stock_name_thai)+" ("+d(r(s).stock_name_en)+") ",1),e("label",Q," สถานะ: "+d(k(r(s).stock_status)),1)])]),footer:u(()=>[e("div",{class:"w-full text-center md:block"},[e("button",{class:"mx-4 md:mb-0 bg-green-600 px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-white rounded-full hover:shadow-lg hover:bg-green-400",onClick:v}," ตกลง "),e("button",{class:"mx-4 md:mb-0 bg-red-500 border border-red-500 px-5 py-2 text-sm shadow-sm font-medium tracking-wider text-white rounded-full hover:shadow-lg hover:bg-red-600",onClick:h}," ยกเลิก ")])]),_:1},8,["isModalOpen"])]),_:1}))}};export{te as default};
