import{r as M,u as V,j as $,f,c as a,k as c,a as e,b as x,o as n,d as b,t as o,w as p,e as i,v as B,F as g,g as w,l as h,m as C,p as E}from"./app-BAzGNY5n.js";import{A as O}from"./AppLayout-6pK9au1e.js";import{_ as N}from"./ModalUpToYou-CxscJv0q.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Navbar-J242VETL.js";const S={key:0,class:"alert-banner fixed right-0 m-4 w-2/3 md:w-full max-w-sm"},z={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-green-300 shadow-xs rounded-md text-green-800 font-bold",title:"close",for:"banneralert"},A={key:1,class:"alert-banner fixed right-0 m-4 w-2/3 md:w-full max-w-sm"},F={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-yellow-200 shadow-xs rounded-md text-yellow-800 font-bold",title:"close",for:"banneralert"},D={key:2,class:"alert-banner fixed right-0 m-4 w-2/3 md:w-full max-w-sm"},R={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-red-200 shadow-xs rounded-md text-red-800 font-bold",title:"close",for:"banneralert"},T={class:"w-full p-4 flex-col justify-center bg-blue-100 rounded-md"},q={class:"w-full bg-blue-100 rounded-md"},G={class:"mt-3"},H={for:""},I=["value"],J={class:"w-full bg-blue-100 rounded-md"},K={class:"w-full bg-blue-100 rounded-md"},P=["value"],Q=["value"],W={for:"one"},X={class:"mt-3"},Y={for:""},Z={class:""},ee={class:"text-gray-900 text-md font-medium"},te={class:"flex justify-start w-full text-sm"},se={class:"flex justify-start w-full text-sm"},le={class:"flex justify-start w-full text-sm"},re={class:"flex justify-start w-full text-sm"},ue={__name:"EditUser",props:{user:{type:Object},user_status_list:{type:Array,required:!0},units:Object,roles:Object},setup(u){const d=u,m=M(!1),v=l=>d.user_status_list[l-1].desc,y=()=>{let l={};return l=d.roles.find(t=>t.id===r.role_id),r.role_name=l.name,l.label},_=()=>{m.value=!1},r=V({user_id:d.user.id,unit_id:d.user.unitid,role_id:d.user.roles[0].id,role_name:d.user.roles[0].label,user_name_thai:d.user.name?d.user.name:"",user_status:d.user.status?d.user.status:0}),k=()=>{let l={};return l=d.units.find(t=>t.unitid===r.unit_id),l.unitname},j=(()=>{m.value=!0}),L=()=>{m.value=!1,r.post(route("update-user",r.user_id),{preserveState:!1,preserveScroll:!0})};return(l,t)=>(n(),$(O,null,{default:f(()=>[l.$page.props.flash.status==="success"?(n(),a("div",S,[t[6]||(t[6]=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1)),e("label",z,[b(o(l.$page.props.flash.msg)+" ",1),t[5]||(t[5]=e("svg",{class:"fill-current text-white",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1))])])):c("",!0),l.$page.props.flash.status==="warning"?(n(),a("div",A,[t[8]||(t[8]=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1)),e("label",F,[b(o(l.$page.props.flash.msg)+" ",1),t[7]||(t[7]=e("svg",{class:"fill-current text-red",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1))])])):c("",!0),l.$page.props.flash.status==="error"?(n(),a("div",D,[t[10]||(t[10]=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1)),e("label",R,[b(o(l.$page.props.flash.msg)+" ",1),t[9]||(t[9]=e("svg",{class:"fill-current text-red",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1))])])):c("",!0),e("div",T,[t[16]||(t[16]=e("div",{class:"text-center text-lg font-bold"},[e("p",{class:"my-2"},"แก้ไขข้อมูลผู้ใช้งาน")],-1)),e("div",null,[e("div",q,[e("div",G,[e("label",H,"ชื่อเจ้าหน้าที่:"+o(u.user.name),1)]),e("div",null,[p(e("input",{type:"text",class:"w-full py-2 rounded-md","onUpdate:modelValue":t[0]||(t[0]=s=>i(r).user_name_thai=s)},null,512),[[B,i(r).user_name_thai]])])]),t[15]||(t[15]=e("div",{class:"mt-3"},[e("label",{for:""},"ระบุหน่วยงานที่สังกัด:")],-1)),p(e("select",{name:"",id:"",class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-2 py-2 pr-6 rounded-xs shadow-xs leading-tight focus:outline-hidden focus:shadow-outline","onUpdate:modelValue":t[1]||(t[1]=s=>i(r).unit_id=s)},[(n(!0),a(g,null,w(u.units,s=>(n(),a("option",{key:s.id,value:s.unitid},o(s.unitname),9,I))),128))],512),[[h,i(r).unit_id]]),e("div",J,[e("div",K,[t[11]||(t[11]=e("div",{class:"bg-blue-800 text-white text-xl text-center"},null,-1)),t[12]||(t[12]=e("div",{class:"mt-3"},[e("label",{for:""},"ระบุสิทธิการใช้งานระบบ:")],-1)),p(e("select",{name:"",id:"",class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-2 py-2 pr-6 rounded-xs shadow-xs leading-tight focus:outline-hidden focus:shadow-outline","onUpdate:modelValue":t[2]||(t[2]=s=>i(r).role_id=s)},[(n(!0),a(g,null,w(u.roles,s=>(n(),a("option",{key:s.id,value:s.id},o(s.label),9,P))),128))],512),[[h,i(r).role_id]])]),t[13]||(t[13]=e("div",{class:"mt-3"},[e("label",{for:""},"ระบุสถานะผู้ใช้งาน:")],-1)),(n(!0),a(g,null,w(u.user_status_list,s=>(n(),a("div",{key:s.id,class:"form-check"},[p(e("input",{type:"radio",id:"one",value:s.id,"onUpdate:modelValue":t[3]||(t[3]=U=>i(r).user_status=U),class:"form-check-input appearance-none rounded-full h-4 w-4 border border-gray-300 bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-hidden transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer"},null,8,Q),[[C,i(r).user_status]]),e("label",W,o(s.desc),1)]))),128))]),e("div",X,[e("label",Y,"ชื่อผู้เพิ่มข้อมูล:"+o(u.user.profile.user_name_in),1)]),e("div",Z,[e("button",{type:"submit",class:"w-full flex justify-center py-2 text-md bg-green-500 hover:bg-green-700 text-white border border-green-500 rounded-xs",onClick:t[4]||(t[4]=s=>j())}," แก้ไข "),x(i(E),{href:l.route("user-add"),class:"w-full flex justify-center my-2 py-2 text-md bg-blue-500 hover:bg-blue-700 text-white border border-blue-500 rounded-xs"},{default:f(()=>[...t[14]||(t[14]=[b(" กลับ ",-1)])]),_:1},8,["href"])])])]),x(N,{isModalOpen:m.value},{header:f(()=>[...t[17]||(t[17]=[e("p",{class:"text-md font-bold text-red-600"},"คุณต้องการแก้ไขข้อมูลผู้ใช้งานใช่หรือไม่?",-1)])]),body:f(()=>[e("div",ee,[e("label",te," ชื่อ: "+o(u.user.name),1),e("label",se," หน่วย/สาขา: "+o(k()),1),e("label",le," สิทธิการใช้งานระบบ: "+o(y()),1),e("label",re," สถานะ: "+o(v(i(r).user_status)),1)])]),footer:f(()=>[e("div",{class:"w-full text-center md:block"},[e("button",{class:"mx-4 md:mb-0 bg-green-600 px-5 py-2 text-sm shadow-xs font-medium tracking-wider border text-white rounded-full hover:shadow-lg hover:bg-green-400",onClick:L}," ตกลง "),e("button",{class:"mx-4 md:mb-0 bg-red-500 border border-red-500 px-5 py-2 text-sm shadow-xs font-medium tracking-wider text-white rounded-full hover:shadow-lg hover:bg-red-600",onClick:_}," ยกเลิก ")])]),_:1},8,["isModalOpen"])]),_:1}))}};export{ue as default};
