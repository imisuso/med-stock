import{r as g,g as N,o,c as l,a as e,t as r,P as j,A as E,i as a,w as C,v as O,u as i,F as y,e as w,h as B,b as S,d as m,j as D}from"./app.72e39c28.js";import{A as P}from"./AppLayout.0f3df538.js";import{_ as $}from"./ModalUpToYou.258cf142.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Navbar.8a28d2f9.js";const z={for:"",class:"px-6"},T={name:"BudgetOrder",props:{orderIndex:{type:Number,required:!0},orderItem:{type:Object,required:!0}},setup(t){const s=t,c=g(0);return N(()=>{c.value=s.orderItem.timeline.approve_budget.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}),(f,h)=>(o(),l("div",null,[e("label",z,r(t.orderIndex+1)+". \u0E40\u0E25\u0E02\u0E17\u0E35\u0E48\u0E43\u0E1A\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E37\u0E49\u0E2D("+r(t.orderItem.type)+"): "+r(t.orderItem.order_no)+"/"+r(t.orderItem.year)+" \u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E37\u0E49\u0E2D: "+r(t.orderItem.date_order)+" \u0E40\u0E1B\u0E47\u0E19\u0E40\u0E07\u0E34\u0E19:"+r(c.value)+" \u0E1A\u0E32\u0E17 ",1)]))}},G={for:"",class:"px-6"},H={name:"PurchaseOrder",props:{orderIndex:{type:Number,required:!0},orderItem:{type:Object,required:!0}},setup(t){const s=t,c=g(0);return N(()=>{c.value=s.orderItem.budget.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}),(f,h)=>(o(),l("div",null,[e("label",G,r(t.orderIndex+1)+". \u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E37\u0E49\u0E2D: "+r(t.orderItem.date_order)+" \u0E40\u0E1B\u0E47\u0E19\u0E40\u0E07\u0E34\u0E19:"+r(c.value)+" \u0E1A\u0E32\u0E17 ",1)]))}},J={class:"py-2 border-b-2 border-red-300"},K={class:"flex justify-between"},Q={class:""},R={class:"font-bold"},W={key:0,class:"flex justify-between px-3"},X={key:0,class:"text-red-600"},Z=e("label",{class:""}," \u0E23\u0E30\u0E1A\u0E38\u0E07\u0E1A\u0E1B\u0E23\u0E30\u0E21\u0E32\u0E13: ",-1),ee={class:"p-2 mr-2"},te={key:1,class:"flex justify-between px-3"},de={class:"px-3 text-green-600 font-bold"},oe={class:"flex px-2"},se={class:"px-3"},re={key:0,class:"px-3"},le=["href"],ue=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),ne=[ue],ae={key:1,class:"flex mr-2"},ce=["href"],ie={key:2},ge={key:0},me=e("label",{class:"px-6 font-bold"},"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E43\u0E1A\u0E2A\u0E31\u0E0D\u0E0D\u0E32\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E37\u0E49\u0E2D",-1),be={key:1,class:"mt-2"},_e=e("label",{class:"px-6 font-bold"},"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E43\u0E1A\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E37\u0E49\u0E2D",-1),fe=e("p",{class:"text-md font-bold text-red-600"},"\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E07\u0E1A\u0E1B\u0E23\u0E30\u0E21\u0E32\u0E13\u0E43\u0E0A\u0E48\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?",-1),he={class:"w-full flex flex-col text-gray-900 text-md font-medium"},ve={for:""},pe={for:""},xe=e("p",{class:"text-md font-bold text-red-600"},"\u0E41\u0E01\u0E49\u0E44\u0E02\u0E07\u0E1A\u0E1B\u0E23\u0E30\u0E21\u0E32\u0E13",-1),ye={class:"w-full flex flex-col text-gray-900 text-md font-medium"},ke={for:""},we={for:""},Be={key:0,class:"text-red-600"},Ie=e("p",{class:"text-md font-bold text-red-600"},"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E2D\u0E48\u0E32\u0E19 ",-1),Se={class:"w-full flex flex-col text-gray-900 text-md font-medium"},$e={for:""},je={name:"StockBudget",props:{stockIndex:{type:Number,required:!0},stockBudget:{type:Object,required:!0},budgetYear:{type:Number,required:!0}},setup(t){const s=t,c=g(!1),f=g(!1),h=g(0),b=g(!1),n=g(!1),d=j({stock_id:{type:Number},stock_name:{type:String},budget_year:{type:Number},budget_input:s.stockBudget.budget.budget_add?s.stockBudget.budget.budget_add:0,budget_edit:{type:Number,defaulte:0},year_selected:{type:Number}});j({});const M=E(()=>s.stockBudget.budget.budget_add.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","));E(()=>s.stockBudget.budget.budget_add!=0?s.stockBudget.balance_budget.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0");const v=g(""),x=g(!1),p=g(!1),Y=u=>{if(console.log("confirmAddBudget"),d.budget_input==0)return x.value=!0,v.value="\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38\u0E07\u0E1A\u0E1B\u0E23\u0E30\u0E21\u0E32\u0E13\u0E01\u0E48\u0E2D\u0E19\u0E01\u0E14\u0E1B\u0E38\u0E48\u0E21\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01",!1;if(x.value=!1,document.getElementById("budget_add").value<0)return x.value=!0,v.value="\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38\u0E07\u0E1A\u0E1B\u0E23\u0E30\u0E21\u0E32\u0E13\u0E44\u0E21\u0E48\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E15\u0E34\u0E14\u0E25\u0E1A",document.getElementById("budget_add").focus(),!1;p.value=!1,f.value=!0,d.stock_id=s.stockBudget.id,d.stock_name=s.stockBudget.stockname,d.budget_year=s.budgetYear,d.year_selected=s.budgetYear,h.value=d.budget_input.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},q=()=>{f.value=!1},A=()=>{b.value=!1},V=()=>{f.value=!1,d.stock_id=s.stockBudget.id,d.budget_year=s.budgetYear,d.post(route("add-budget"),{preserveState:!0,preserveScroll:!0,onSuccess:u=>{console.log("success"),b.value=!0},onError:u=>{console.log("error"),b.value=!0},onFinish:u=>{console.log("finish")}})},F=()=>{d.stock_id=s.stockBudget.id,d.stock_name=s.stockBudget.stockname,d.budget_year=s.budgetYear,d.budget_edit=s.stockBudget.budget.budget_add,d.year_selected=s.budgetYear,n.value=!0},L=()=>{if(document.getElementById("budget_edit").value=="")return p.value=!0,v.value="\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38\u0E07\u0E1A\u0E1B\u0E23\u0E30\u0E21\u0E32\u0E13\u0E17\u0E35\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E41\u0E01\u0E49\u0E44\u0E02",document.getElementById("budget_edit").focus(),!1;if(p.value=!1,document.getElementById("budget_edit").value<0)return p.value=!0,v.value="\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38\u0E07\u0E1A\u0E1B\u0E23\u0E30\u0E21\u0E32\u0E13\u0E44\u0E21\u0E48\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E15\u0E34\u0E14\u0E25\u0E1A",document.getElementById("budget_edit").focus(),!1;if(p.value=!1,d.budget_input==0)return x.value=!0,v.value="\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38\u0E07\u0E1A\u0E1B\u0E23\u0E30\u0E21\u0E32\u0E13\u0E01\u0E48\u0E2D\u0E19\u0E01\u0E14\u0E1B\u0E38\u0E48\u0E21\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01",!1;x.value=!1,n.value=!1,d.post(route("edit-budget"),{preserveState:!0,preserveScroll:!0,onSuccess:u=>{console.log("success"),b.value=!0,console.log(d.budget_year)},onError:u=>{console.log("error"),b.value=!0},onFinish:u=>{console.log("finish")}})},U=()=>{n.value=!1,p.value=!1};return(u,k)=>(o(),l(y,null,[e("div",null,[e("div",J,[e("div",K,[e("div",Q,[e("label",R,r(t.stockIndex+1)+". "+r(t.stockBudget.stockname),1)])]),t.stockBudget.budget.budget_add==0&&u.$page.props.auth.user.roles[0].name=="admin_med_stock"?(o(),l("div",W,[e("div",null,[x.value?(o(),l("div",X,[e("label",null,r(v.value),1)])):a("",!0),Z,C(e("input",{type:"number",id:"budget_add",class:"rounded-md","onUpdate:modelValue":k[0]||(k[0]=_=>i(d).budget_input=_)},null,512),[[O,i(d).budget_input]])]),e("div",ee,[u.$page.props.auth.user.roles[0].name=="admin_med_stock"?(o(),l("button",{key:0,class:"flex justify-center py-1 px-2 bg-green-200 text-green-900 rounded-md shadow-md hover:bg-green-300 focus:outline-none",onClick:Y}," \u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01 ")):a("",!0)])])):a("",!0),t.stockBudget.budget.budget_add!=0?(o(),l("div",te,[e("div",null,[e("label",de," \u0E44\u0E14\u0E49\u0E2D\u0E19\u0E38\u0E21\u0E31\u0E15\u0E34 "+r(i(M))+" \u0E1A\u0E32\u0E17 ",1)]),e("div",oe,[e("div",se,[u.$page.props.auth.user.roles[0].name=="admin_med_stock"?(o(),l("button",{key:0,class:"flex justify-center py-1 px-2 bg-yellow-200 text-yellow-900 rounded-md shadow-md hover:bg-yellow-300 focus:outline-none",onClick:F}," \u0E41\u0E01\u0E49\u0E44\u0E02 ")):a("",!0)]),u.$page.props.auth.user.roles[0].name=="admin_it"?(o(),l("div",re,[e("a",{href:u.route("get-budget-log",t.stockBudget),class:"flex py-1 px-2 rounded-md shadow-md bg-blue-300"},ne,8,le)])):a("",!0),t.stockBudget.count_import>0?(o(),l("div",ae,[e("a",{href:u.route("get-list-order",{stock_id:t.stockBudget.id,year:t.budgetYear}),class:"flex justify-center py-1 px-2 bg-pink-200 text-pink-900 rounded-md shadow-md hover:bg-pink-300 focus:outline-none"}," \u0E14\u0E39\u0E43\u0E1A\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E37\u0E49\u0E2D\u0E17\u0E35\u0E48\u0E19\u0E33\u0E40\u0E02\u0E49\u0E32\u0E08\u0E32\u0E01Excel ",8,ce)])):a("",!0)])])):a("",!0),c.value?(o(),l("div",ie,[t.stockBudget.orders.length!=0?(o(),l("div",ge,[me,(o(!0),l(y,null,w(t.stockBudget.orders,(_,I)=>(o(),B(T,{key:_.id,orderIndex:I,orderItem:_},null,8,["orderIndex","orderItem"]))),128))])):a("",!0),t.stockBudget.purchase_orders.length!=0?(o(),l("div",be,[_e,(o(!0),l(y,null,w(t.stockBudget.purchase_orders,(_,I)=>(o(),B(H,{key:_.id,orderIndex:I,orderItem:_},null,8,["orderIndex","orderItem"]))),128))])):a("",!0)])):a("",!0)])]),S($,{isModalOpen:f.value},{header:m(()=>[fe]),body:m(()=>[e("div",he,[e("div",ve,r(i(d).stock_name),1),e("div",null," \u0E1B\u0E35\u0E07\u0E1A:"+r(i(d).budget_year+543),1),e("div",pe," \u0E08\u0E33\u0E19\u0E27\u0E19 "+r(h.value)+" \u0E1A\u0E32\u0E17 ",1)])]),footer:m(()=>[e("div",{class:"w-full text-center md:block"},[e("button",{class:"mx-4 md:mb-0 bg-green-600 px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-white rounded-full hover:shadow-lg hover:bg-green-400",onClick:V}," \u0E15\u0E01\u0E25\u0E07 "),e("button",{class:"mx-4 md:mb-0 bg-red-500 border border-red-500 px-5 py-2 text-sm shadow-sm font-medium tracking-wider text-white rounded-full hover:shadow-lg hover:bg-red-600",onClick:q}," \u0E22\u0E01\u0E40\u0E25\u0E34\u0E01 ")])]),_:1},8,["isModalOpen"]),S($,{isModalOpen:n.value},{header:m(()=>[xe]),body:m(()=>[e("div",ye,[e("div",ke,r(i(d).stock_name),1),e("div",null," \u0E1B\u0E35\u0E07\u0E1A:"+r(i(d).budget_year+543),1),e("div",we,[p.value?(o(),l("div",Be,[e("label",null,r(v.value),1)])):a("",!0),C(e("input",{type:"number",id:"budget_edit",class:"rounded-md",min:"0","onUpdate:modelValue":k[1]||(k[1]=_=>i(d).budget_edit=_)},null,512),[[O,i(d).budget_edit]])])])]),footer:m(()=>[e("div",{class:"w-full text-center md:block"},[e("button",{class:"mx-4 md:mb-0 bg-green-600 px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-white rounded-full hover:shadow-lg hover:bg-green-400",onClick:L}," \u0E15\u0E01\u0E25\u0E07 "),e("button",{class:"mx-4 md:mb-0 bg-red-500 border border-red-500 px-5 py-2 text-sm shadow-sm font-medium tracking-wider text-white rounded-full hover:shadow-lg hover:bg-red-600",onClick:U}," \u0E22\u0E01\u0E40\u0E25\u0E34\u0E01 ")])]),_:1},8,["isModalOpen"]),S($,{isModalOpen:b.value},{header:m(()=>[Ie]),body:m(()=>[e("div",Se,[e("div",$e,r(u.$page.props.flash.status)+":"+r(u.$page.props.flash.msg),1)])]),footer:m(()=>[e("div",{class:"w-full text-center md:block"},[e("button",{class:"mx-4 md:mb-0 bg-green-600 px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-white rounded-full hover:shadow-lg hover:bg-green-400",onClick:A}," \u0E15\u0E01\u0E25\u0E07 ")])]),_:1},8,["isModalOpen"])],64))}},Ce={class:"flex flex-col mb-2 text-md font-bold text-gray-900"},Ee={class:"m-2"},Oe=e("label",{for:""},"\u0E23\u0E30\u0E1A\u0E38\u0E1B\u0E35\u0E07\u0E1A\u0E1B\u0E23\u0E30\u0E21\u0E32\u0E13:",-1),Ne=["value"],Me=e("h1",{class:"text-center font-bold text-lg"},"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E07\u0E1A\u0E1B\u0E23\u0E30\u0E21\u0E32\u0E13\u0E41\u0E15\u0E48\u0E25\u0E30\u0E2A\u0E32\u0E02\u0E32",-1),Ye={key:0,class:"text-center font-bold text-lg"},Ue={name:"ListBudget",props:{years:{type:Object,required:!0},stock_budgets:{type:Object},year_search:{type:Number}},setup(t){const s=t;g(!0);const c=j({year_selected:s.year_search?s.year_search:""}),f=()=>{c.get(route("get-list-budget"),{preserveState:!0,preserveScroll:!0,onSuccess:h=>{console.log("success")},onError:h=>{console.log("error")},onFinish:h=>{console.log("finish")}})};return(h,b)=>(o(),B(P,null,{default:m(()=>[e("div",Ce,[e("div",Ee,[Oe,C(e("select",{name:"",id:"","onUpdate:modelValue":b[0]||(b[0]=n=>i(c).year_selected=n),class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-2 py-2 pr-6 rounded shadow leading-tight focus:outline-none focus:shadow-outline",onChange:f},[(o(!0),l(y,null,w(t.years,(n,d)=>(o(),l("option",{key:d,value:n},r(n+543),9,Ne))),128))],544),[[D,i(c).year_selected]])])]),e("div",null,[Me,t.year_search?(o(),l("h1",Ye,"\u0E1B\u0E23\u0E30\u0E08\u0E33\u0E1B\u0E35\u0E07\u0E1A\u0E1B\u0E23\u0E30\u0E21\u0E32\u0E13 "+r(t.year_search+543),1)):a("",!0),(o(!0),l(y,null,w(t.stock_budgets,(n,d)=>(o(),B(je,{key:n.id,stockIndex:d,stockBudget:n,budgetYear:t.year_search},null,8,["stockIndex","stockBudget","budgetYear"]))),128))])]),_:1}))}};export{Ue as default};
