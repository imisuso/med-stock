import{r as y,u as L,j,f as u,c as i,k as c,a as e,b as w,o as a,d as p,t as n,w as b,e as r,v as g,F as $,g as B,m as M,p as S}from"./app-BjFdi1bE.js";import{A as V}from"./AppLayout-rYe8tSBi.js";import{_ as C}from"./ModalUpToYou-BTaf1SLu.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Navbar-LFwvqw_Z.js";const E={key:0,class:"alert-banner fixed right-0 m-4 w-2/3 md:w-full max-w-sm"},N={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-green-300 shadow-xs rounded-md text-green-800 font-bold",title:"close",for:"banneralert"},z={key:1,class:"alert-banner fixed right-0 m-4 w-2/3 md:w-full max-w-sm"},A={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-yellow-200 shadow-xs rounded-md text-yellow-800 font-bold",title:"close",for:"banneralert"},F={key:2,class:"alert-banner fixed right-0 m-4 w-2/3 md:w-full max-w-sm"},O={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-red-200 shadow-xs rounded-md text-red-800 font-bold",title:"close",for:"banneralert"},U={class:"w-full p-4 flex-col justify-center bg-blue-100 rounded-md"},D={class:"w-full bg-blue-100 p-2 rounded-md"},T={for:""},q={class:"w-full bg-blue-100 p-2 rounded-md"},R={class:"w-full bg-blue-100 p-2 rounded-md"},G={class:"w-full bg-blue-100 p-2 rounded-md"},H=["value"],I={for:"one"},J={class:""},K={class:"text-gray-900 text-md font-medium"},P={class:"flex justify-start w-full text-sm"},Q={class:"flex justify-start w-full text-sm"},te={__name:"EditStock",props:{stock:{type:Object},stock_status_list:{type:Array,required:!0}},setup(f){const o=f,m=y(!1),k=l=>o.stock_status_list[l-1].desc,x=()=>{m.value=!1},s=L({stock_id:o.stock.id,stock_name_thai:o.stock.stockname?o.stock.stockname:"",stock_name_en:o.stock.stockengname?o.stock.stockengname:"",stock_status:o.stock.status?o.stock.status:0,unit:o.stock.unit_id?o.stock.unit_id:""}),h=(()=>{m.value=!0}),v=()=>{m.value=!1,s.post(route("update-stock",s.stock_id),{preserveState:!1,preserveScroll:!0})};return(l,t)=>(a(),j(V,null,{default:u(()=>[l.$page.props.flash.status=="success"?(a(),i("div",E,[t[5]||(t[5]=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1)),e("label",N,[p(n(l.$page.props.flash.msg)+" ",1),t[4]||(t[4]=e("svg",{class:"fill-current text-white",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1))])])):c("",!0),l.$page.props.flash.status=="warning"?(a(),i("div",z,[t[7]||(t[7]=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1)),e("label",A,[p(n(l.$page.props.flash.msg)+" ",1),t[6]||(t[6]=e("svg",{class:"fill-current text-red",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1))])])):c("",!0),l.$page.props.flash.status=="error"?(a(),i("div",F,[t[9]||(t[9]=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1)),e("label",O,[p(n(l.$page.props.flash.msg)+" ",1),t[8]||(t[8]=e("svg",{class:"fill-current text-red",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1))])])):c("",!0),e("div",U,[t[15]||(t[15]=e("div",{class:"text-center text-lg font-bold"},[e("p",{class:"my-2"},"แก้ไขข้อมูลคลังวัสดุ")],-1)),e("div",null,[e("div",D,[t[10]||(t[10]=e("div",{class:"mt-3"},[e("label",{for:""},"หน่วยงาน/สาขา:")],-1)),e("label",T,n(f.stock.unit.unitname),1)]),e("div",q,[t[11]||(t[11]=e("div",{class:"mt-3"},[e("label",{for:""},"ระบุชื่อคลังวัสดุ(ภาษาไทย):")],-1)),b(e("input",{type:"text",class:"w-full py-2 rounded-md","onUpdate:modelValue":t[0]||(t[0]=d=>r(s).stock_name_thai=d)},null,512),[[g,r(s).stock_name_thai]])]),e("div",R,[t[12]||(t[12]=e("div",{class:"mt-3"},[e("label",{for:""},"ระบุชื่อคลังวัสดุ(ภาษาอังกฤษ):")],-1)),b(e("input",{type:"text",class:"w-full py-2 rounded-md","onUpdate:modelValue":t[1]||(t[1]=d=>r(s).stock_name_en=d)},null,512),[[g,r(s).stock_name_en]])]),e("div",G,[t[13]||(t[13]=e("div",{class:"mt-3"},[e("label",{for:""},"ระบุสถานะคลังวัสดุ:")],-1)),(a(!0),i($,null,B(f.stock_status_list,d=>(a(),i("div",{key:d.id,class:"form-check"},[b(e("input",{type:"radio",value:d.id,"onUpdate:modelValue":t[2]||(t[2]=_=>r(s).stock_status=_),class:"form-check-input appearance-none rounded-full h-4 w-4 border border-gray-300 bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-hidden transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer"},null,8,H),[[M,r(s).stock_status]]),e("label",I,n(d.desc),1)]))),128))]),e("div",J,[l.$page.props.auth.user.roles[0].name=="admin_med_stock"?(a(),i("button",{key:0,type:"submit",class:"w-full flex justify-center py-2 text-md bg-green-500 hover:bg-green-700 text-white border border-green-500 rounded-xs",onClick:t[3]||(t[3]=d=>h())}," แก้ไข ")):c("",!0),w(r(S),{href:l.route("stock-add")},{default:u(()=>[...t[14]||(t[14]=[e("div",{class:"w-full flex justify-center my-2 py-2 text-md bg-blue-500 hover:bg-blue-700 text-white border border-blue-500 rounded-xs"},[e("span",{class:"text-white ml-2"},"กลับ")],-1)])]),_:1},8,["href"])])])]),w(C,{isModalOpen:m.value},{header:u(()=>[...t[16]||(t[16]=[e("p",{class:"text-md font-bold text-red-600"},"คุณต้องการแก้ไขข้อมูลใช่หรือไม่?",-1)])]),body:u(()=>[e("div",K,[e("label",P," ชื่อคลัง: "+n(r(s).stock_name_thai)+" ("+n(r(s).stock_name_en)+") ",1),e("label",Q," สถานะ: "+n(k(r(s).stock_status)),1)])]),footer:u(()=>[e("div",{class:"w-full text-center md:block"},[e("button",{class:"mx-4 md:mb-0 bg-green-600 px-5 py-2 text-sm shadow-xs font-medium tracking-wider border text-white rounded-full hover:shadow-lg hover:bg-green-400",onClick:v}," ตกลง "),e("button",{class:"mx-4 md:mb-0 bg-red-500 border border-red-500 px-5 py-2 text-sm shadow-xs font-medium tracking-wider text-white rounded-full hover:shadow-lg hover:bg-red-600",onClick:x}," ยกเลิก ")])]),_:1},8,["isModalOpen"])]),_:1}))}};export{te as default};
