import{r as f,u as $,o as n,c as r,a as e,g as d,t as o,d as v,e as g,b as i,L as j,k as h,w as k,v as w,n as I,F as y,E as L,j as z,f as M,I as V,y as O}from"./app.fa9136dd.js";import{_ as A}from"./ModalUpToYou.abb10b64.js";import{d as p,b as S}from"./buddhistEra.53458001.js";import{A as N}from"./AppLayout.d009ae27.js";import{_ as D}from"./PaginateMe.0d600fd4.js";import"./_plugin-vue_export-helper.cdc0426e.js";const E={class:"w-full mt-2 border-2 border-gray-500 rounded-lg"},F={key:0,class:"flex bg-pink-200 overflow-hidden text-center bg-cover rounded-t"},q=e("div",null,[e("label",null,"\u0E2A\u0E31\u0E0D\u0E0D\u0E32\u0E0B\u0E37\u0E49\u0E2D")],-1),U=[q],P={key:1,class:"flex bg-blue-200 items-center overflow-hidden text-center bg-cover rounded-t"},T=e("div",null,[e("label",null,"\u0E43\u0E1A\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E37\u0E49\u0E2D")],-1),H=[T],K={class:"w-full leading-normal border-b border-l border-r border-gray-200 rounded-b lg:border-l-0 lg:border-t lg:border-gray-200 lg:rounded-b-none lg:rounded-r"},R={class:"mb-2"},G={class:"p-2 text-md font-bold text-gray-900"},J={for:"",class:"text-blue-600"},Q=e("span",{class:"inline-flex text-md font-semibold leading-5 text-green-800 bg-green-200 rounded-lg"}," \u0E1B\u0E23\u0E30\u0E27\u0E31\u0E15\u0E34\u0E01\u0E32\u0E23\u0E23\u0E31\u0E1A\u0E40\u0E02\u0E49\u0E32\u0E41\u0E25\u0E30\u0E40\u0E1A\u0E34\u0E01\u0E2D\u0E2D\u0E01 ",-1),W={class:"flex flex-col lg:flex-col mb-2 text-md font-bold text-gray-900"},X={class:"flex ml-2"},Y=d(" \u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E21\u0E35 : "),Z={class:"ml-2 text-red-600"},ee={class:"inline-flex px-2 text-lg font-semibold leading-5 text-green-800 bg-green-100 rounded-full"},te=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})],-1),se={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6 text-red-500"},oe=e("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"},null,-1),le=[oe],ne={class:"flex ml-2"},re=d(" \u0E23\u0E32\u0E04\u0E32\u0E15\u0E48\u0E2D\u0E2B\u0E19\u0E48\u0E27\u0E22 : "),ie={class:"ml-2 text-blue-600"},de={class:"flex ml-2"},ce=d(" Pur.Order : "),ae={class:"ml-2 text-blue-600"},ue={class:"flex ml-2"},me=d(" \u0E0A\u0E37\u0E48\u0E2D\u0E1A\u0E23\u0E34\u0E29\u0E31\u0E17 : "),he={class:"ml-2 text-blue-600"},_e={class:"flex ml-2"},fe=d(" \u0E27\u0E31\u0E19\u0E2B\u0E21\u0E14\u0E2D\u0E32\u0E22\u0E38 : "),ge={class:"ml-2 text-blue-600"},be={class:"flex ml-2"},ve=d(" \u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E23\u0E31\u0E1A\u0E40\u0E02\u0E49\u0E32 : "),xe={class:"ml-2 text-blue-600"},pe={key:0,class:"flex flex-col lg:flex-row mb-2 text-md font-bold text-gray-900"},ke={class:"m-2"},we={class:"flex justify-start"},ye={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-red-600",viewBox:"0 0 20 20",fill:"currentColor"},Ie=e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1),Me=[Ie],$e=e("label",{for:""},"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E1A\u0E34\u0E01:",-1),Be={class:"m-2"},Ce={class:"flex justify-start"},je={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-red-600",viewBox:"0 0 20 20",fill:"currentColor"},Le=e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1),ze=[Le],Ve=e("label",{for:""},"\u0E08\u0E33\u0E19\u0E27\u0E19:",-1),Oe={key:1,class:"flex flex-col lg:flex-row px-2 py-2"},Ae=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),Se=d(" \u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E01\u0E32\u0E23\u0E40\u0E1A\u0E34\u0E01 "),Ne=[Ae,Se],De=e("p",{class:"text-md font-bold text-red-600"},"\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E01\u0E32\u0E23\u0E40\u0E1A\u0E34\u0E01\u0E1E\u0E31\u0E2A\u0E14\u0E38\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E19\u0E35\u0E49\u0E43\u0E0A\u0E48\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?",-1),Ee={class:"text-gray-900 text-md font-medium dark:text-white"},Fe={class:"mt-2"},qe={name:"CheckoutItem",props:{itemIndex:{type:Number},stockItem:{type:Object,required:!0},canAbility:{type:Object,required:!0}},setup(s){p.extend(S);const _=f(!1),c=f(!1),l=f(!1),a=f(""),t=$({unit_checkout:0,date_checkout:"",confirm_item_name:"",confirm_item_slug:"",confirm_item_date:"",confirm_item_count:""}),x=u=>{if(console.log("confirmCheckout"),t.date_checkout.length==0)return c.value=!0,a.value="\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E1A\u0E34\u0E01",!1;if(c.value=!1,t.unit_checkout==0)return l.value=!0,a.value="\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38\u0E08\u0E33\u0E19\u0E27\u0E19",!1;l.value=!1,_.value=!0,t.confirm_item_slug=u.slug,t.confirm_item_name=u.item_name,t.confirm_item_date=t.date_checkout,t.confirm_item_count=t.unit_checkout},B=()=>{_.value=!1},C=()=>{_.value=!1,t.post(route("checkout-stock-item"),{preserveState:!1,preserveScroll:!0,onSuccess:u=>{console.log("success")},onError:u=>{console.log("error")},onFinish:u=>{console.log("finish")}})};return(u,m)=>(n(),r(y,null,[e("div",E,[s.stockItem.status==1?(n(),r("div",F,U)):(n(),r("div",P,H)),e("div",K,[e("div",R,[e("div",G,[d(o(s.itemIndex+1)+". SAP:"+o(s.stockItem.item_code)+" ",1),e("label",J,o(s.stockItem.item_name),1),d(" (\u0E2B\u0E19\u0E48\u0E27\u0E22: "+o(s.stockItem.unit_count)+") ",1),v(i(j),{href:u.route("list-stock-item",s.stockItem)},{default:g(()=>[Q]),_:1},8,["href"])]),e("div",W,[e("div",X,[Y,e("p",Z,[e("span",ee,[te,d(" "+o(s.stockItem.item_sum),1)])]),s.stockItem.item_sum<6?(n(),r("svg",se,le)):h("",!0)]),e("div",ne,[re,e("p",ie,o(s.stockItem.price),1)]),e("div",de,[ce,e("p",ae,o(s.stockItem.pur_order),1)]),e("div",ue,[me,e("p",he,o(s.stockItem.business_name),1)]),e("div",_e,[fe,e("p",ge,o(i(p)(s.stockItem.checkin_last.date_expire).locale("th").format("D MMMM BBBB")),1)]),e("div",be,[ve,e("p",xe,o(i(p)(s.stockItem.checkin_last.date_action).locale("th").format("D MMMM BBBB")),1)])]),s.canAbility.checkout_item&&s.stockItem.item_sum!=0?(n(),r("div",pe,[e("div",ke,[e("div",we,[c.value?(n(),r("svg",ye,Me)):h("",!0),$e]),e("div",null,[k(e("input",{type:"date",name:"",id:"","onUpdate:modelValue":m[0]||(m[0]=b=>i(t).date_checkout=b),class:I(["w-full px-12 py-2 border-2 rounded-md appearance-none focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500",[c.value?"border-red-500 border-2 ":"border-gray-400"]])},null,2),[[w,i(t).date_checkout]])])]),e("div",Be,[e("div",Ce,[l.value?(n(),r("svg",je,ze)):h("",!0),Ve]),e("div",null,[k(e("input",{type:"number",name:"",id:"","onUpdate:modelValue":m[1]||(m[1]=b=>i(t).unit_checkout=b),class:I(["w-full px-12 py- border-2 rounded-md appearance-none focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500",[l.value?"border-red-500 border-2 ":"border-gray-400"]])},null,2),[[w,i(t).unit_checkout]])])])])):h("",!0),s.canAbility.checkout_item&&s.stockItem.item_sum!=0?(n(),r("div",Oe,[e("button",{class:"flex justify-center px-4 py-1 text-sm text-white bg-green-600 rounded-md hover:bg-green-400 focus:outline-none",onClick:m[2]||(m[2]=b=>x(s.stockItem))},Ne)])):h("",!0)])])]),v(A,{isModalOpen:_.value},{header:g(()=>[De]),body:g(()=>[e("div",Ee,[e("p",Fe,o(i(t).confirm_item_name)+" \u0E40\u0E1A\u0E34\u0E01\u0E43\u0E0A\u0E49\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48 "+o(i(t).confirm_item_date)+" \u0E08\u0E33\u0E19\u0E27\u0E19 "+o(i(t).confirm_item_count)+" \u0E0A\u0E34\u0E49\u0E19",1)])]),footer:g(()=>[e("div",{class:"w-full text-center md:block"},[e("button",{class:"mx-4 md:mb-0 bg-green-600 px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-white rounded-full hover:shadow-lg hover:bg-green-400",onClick:C}," \u0E15\u0E01\u0E25\u0E07 "),e("button",{class:"mx-4 md:mb-0 bg-red-500 border border-red-500 px-5 py-2 text-sm shadow-sm font-medium tracking-wider text-white rounded-full hover:shadow-lg hover:bg-red-600",onClick:B}," \u0E22\u0E01\u0E40\u0E25\u0E34\u0E01 ")])]),_:1},8,["isModalOpen"])],64))}},Ue={key:0,class:"alert-banner fixed right-0 m-2 w-5/6 md:w-full max-w-sm"},Pe=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1),Te={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-green-300 shadow rounded-md text-green-800 font-bold",title:"close",for:"banneralert"},He=e("svg",{class:"fill-current text-white",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),Ke={key:1},Re={class:"w-full flex justify-center bg-blue-100 p-2 rounded-md"},Ge={key:2},Je={class:"w-full bg-blue-100 p-2 rounded-md"},Qe={class:"bg-blue-800 text-white text-xl text-center"},We=e("div",{class:"mt-3"},[e("label",{for:""},"\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E04\u0E25\u0E31\u0E07\u0E1E\u0E31\u0E2A\u0E14\u0E38")],-1),Xe={name:"",id:"",class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-2 py-2 pr-6 rounded shadow leading-tight focus:outline-none focus:shadow-outline"},Ye={class:"w-full"},Ze=e("div",{class:"w-full flex mt-2 text-sm rounded-md"},[e("div",{class:"w-full flex"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-8 h-8 text-red-500"},[e("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"})]),e("label",{for:""},"\u0E40\u0E15\u0E37\u0E2D\u0E19\u0E40\u0E21\u0E37\u0E48\u0E2D\u0E1E\u0E31\u0E2A\u0E14\u0E38\u0E21\u0E35\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32 6 \u0E0A\u0E34\u0E49\u0E19 ")])],-1),et={class:"w-full p-2"},it={name:"index",props:{stocks:Array,stock_items:Object,unit:Object,errors:Object,can:{type:Object,required:!0},stock_status:{type:String},filters:{type:Object}},setup(s){let c=f(s.filters.search);return $({filter_key:""}),L(c,l=>{l.length>=3&&(console.log("changed "+l),O.Inertia.get(route("stock"),{search:l},{preserveState:!0,replace:!0}))}),(l,a)=>(n(),z(N,null,{default:g(()=>[l.$page.props.flash.status=="success"?(n(),r("div",Ue,[Pe,e("label",Te,[d(o(l.$page.props.flash.msg)+" ",1),He])])):h("",!0),s.stock_status=="close"?(n(),r("div",Ke,[e("div",Re," \u0E04\u0E25\u0E31\u0E07"+o(l.$page.props.auth.user.profile.division_name)+" \u0E16\u0E39\u0E01\u0E1B\u0E34\u0E14\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19 ",1)])):(n(),r("div",Ge,[e("div",Je,[e("div",Qe,o(l.$page.props.unit.unitname),1),We,e("select",Xe,[(n(!0),r(y,null,M(l.$page.props.stocks,t=>(n(),r("option",{key:t.id,value:"{{stock.id}}"},o(t.stockname),1))),128))])]),e("div",Ye,[k(e("input",{type:"text",placeholder:"\u0E1E\u0E34\u0E21\u0E1E\u0E4C\u0E0A\u0E37\u0E48\u0E2D\u0E1E\u0E31\u0E2A\u0E14\u0E38\u0E2B\u0E23\u0E37\u0E2D\u0E0A\u0E37\u0E48\u0E2D\u0E1A\u0E23\u0E34\u0E29\u0E31\u0E17\u0E17\u0E35\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E04\u0E49\u0E19\u0E2B\u0E32 \u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22 3 \u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",onKeyup:a[0]||(a[0]=(...t)=>l.purchase_filter&&l.purchase_filter(...t)),"onUpdate:modelValue":a[1]||(a[1]=t=>V(c)?c.value=t:c=t),class:"mt-2 border-green-600 border-2 block w-full shadow-sm sm:text-sm rounded-md"},null,544),[[w,i(c)]])]),Ze,e("div",et,[v(D,{pagination:s.stock_items},null,8,["pagination"]),(n(!0),r(y,null,M(s.stock_items.data,(t,x)=>(n(),r("div",{key:t.id,class:"m-2 p-2"},[v(qe,{itemIndex:x,stockItem:t,canAbility:s.can},null,8,["itemIndex","stockItem","canAbility"])]))),128))])]))]),_:1}))}};export{it as default};
