import{C as S,r as c,i as V,e as A,o as s,a as e,t as a,c as o,j as f,w as p,k as h,u as d,f as m,F as _,d as C,b as L}from"./app-D0dg4ktR.js";import{A as M}from"./AppLayout-BJKdIcXC.js";import{_ as N}from"./PaginateMe-DQGCYBVW.js";import{d as x,b as D}from"./buddhistEra-DDBH1div.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Navbar-B_O4qWE3.js";const U={class:"my-3 bg-blue-800 text-white text-xl text-center"},$={class:"w-full p-2 rounded-md"},E={class:"mt-3 font-bold"},F={key:0,class:"text-red-600"},H=["value"],O={class:"flex flex-col mb-2 text-md font-bold text-gray-900"},I={class:"m-2"},R={key:0,class:"text-red-600"},T=["value"],q={class:"m-2"},z={key:0,class:"text-red-600"},G=["value"],J={class:"flex flex-col"},K={class:"w-full text-center font-bold text-lg"},P={for:""},Q={class:"w-full py-3 text-center font-bold text-lg"},W={for:""},X={key:0},Y={class:"lg:w-2/12"},Z={class:"lg:w-2/12"},ee={class:"lg:w-6/12"},te={key:0},le={class:"lg:w-2/12"},se={key:1,class:"flex justify-center content-center"},ce={__name:"LogActivity",props:{function_name_all:{type:Object},years:{type:Array},item_trans:{type:Object},function_name_selected:{type:String},year_selected:{type:String},month_selected:{type:String}},setup(r){x.extend(D);const i=r,n=S({function_selected:i.function_name_selected?i.function_name_selected:"",year_selected:i.year_selected?i.year_selected:"",month_selected:i.month_selected?i.month_selected:""}),w=c(["","มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"]),k=c([{id:1,name:"มกราคม"},{id:2,name:"กุมภาพันธ์"},{id:3,name:"มีนาคม"},{id:4,name:"เมษายน"},{id:5,name:"พฤษภาคม"},{id:6,name:"มิถุนายน"},{id:7,name:"กรกฎาคม"},{id:8,name:"สิงหาคม"},{id:9,name:"กันยายน"},{id:10,name:"ตุลาคม"},{id:11,name:"พฤศจิกายน"},{id:12,name:"ธันวาคม"}]);c(0);const g=c(!1),v=c(!1),b=c(!1),B=u=>u.length===0?"":parseInt(u)+543,j=()=>{if(n.function_selected.length===0)return g.value=!0,!1;if(g.value=!1,n.year_selected.length===0)return v.value=!0,!1;if(v.value=!1,n.month_selected.length===0)return b.value=!0,!1;b.value=!1,n.get(route("get-log"),{preserveState:!0,preserveScroll:!0})};return(u,l)=>(s(),V(M,null,{default:A(()=>[e("div",U,a(u.$page.props.unit.unitname),1),e("div",$,[e("div",E,[l[4]||(l[4]=e("label",{for:""},"เลือกหัวข้อ",-1)),g.value?(s(),o("label",F," !กรุณาเลือกหัวข้อ")):f("",!0)]),p(e("select",{name:"",id:"","onUpdate:modelValue":l[0]||(l[0]=t=>d(n).function_selected=t),class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-2 py-2 pr-6 rounded shadow leading-tight focus:outline-none focus:shadow-outline"},[(s(!0),o(_,null,m(r.function_name_all,t=>(s(),o("option",{key:t.id,value:t.function_name},a(t.function_name),9,H))),128))],512),[[h,d(n).function_selected]])]),e("div",O,[e("div",I,[l[5]||(l[5]=e("label",{for:""},"ปี พ.ศ.",-1)),v.value?(s(),o("label",R," !กรุณาเลือกปี พ.ศ.")):f("",!0),p(e("select",{name:"",id:"","onUpdate:modelValue":l[1]||(l[1]=t=>d(n).year_selected=t),class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-2 py-2 pr-6 rounded shadow leading-tight focus:outline-none focus:shadow-outline"},[(s(!0),o(_,null,m(r.years,(t,y)=>(s(),o("option",{key:y,value:t},a(t+543),9,T))),128))],512),[[h,d(n).year_selected]])]),e("div",q,[l[6]||(l[6]=e("label",{for:""},"เดือน",-1)),b.value?(s(),o("label",z," !กรุณาเลือกเดือน")):f("",!0),p(e("select",{name:"",id:"","onUpdate:modelValue":l[2]||(l[2]=t=>d(n).month_selected=t),class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-2 py-2 pr-6 rounded shadow leading-tight focus:outline-none focus:shadow-outline"},[(s(!0),o(_,null,m(k.value,t=>(s(),o("option",{key:t.id,value:t.id},a(t.name),9,G))),128))],512),[[h,d(n).month_selected]])])]),e("div",J,[e("button",{onClick:l[3]||(l[3]=t=>j()),class:"flex justify-center px-8 py-2 mb-2 text-sm text-white bg-blue-600 rounded-md hover:bg-blue-400 focus:outline-none"}," ดูข้อมูล ")]),l[9]||(l[9]=e("div",{class:"w-full py-3 text-center font-bold text-lg"},[e("label",{for:""},"ข้อมูลการใช้งานระบบ")],-1)),e("div",K,[e("label",P," ฟังก์ชัน:"+a(d(n).function_selected),1)]),e("div",Q,[e("label",W," เดือน "+a(w.value[d(n).month_selected])+" ปี "+a(B(d(n).year_selected)),1)]),e("div",null,[C(N,{pagination:r.item_trans},null,8,["pagination"]),l[7]||(l[7]=e("div",{class:"w-full my-3 border-b-4 border-gray-500 shadow-sm hidden lg:block"},[e("div",{class:"flex flex-col lg:flex-row lg:justify-between mx-2"},[e("div",{class:"lg:w-2/12"}," ผู้ปฎิบัติงาน: "),e("div",{class:"lg:w-2/12"}," action: "),e("div",{class:"lg:w-6/12"}," รายละเอียด: "),e("div",{class:"lg:w-2/12"}," วันที่: ")])],-1))]),r.item_trans?(s(),o("div",X,[(s(!0),o(_,null,m(r.item_trans.data,(t,y)=>(s(),o("div",{key:t.id,class:"w-full lg:flex lg:flex-row text-sm border-b-2 border-gray-500 shadow-sm"},[L(a(r.item_trans.from+y)+". ",1),e("div",Y,a(t.user.name),1),e("div",Z,a(t.action),1),e("div",ee,[e("p",null,a(t.detail),1),t.old_value?(s(),o("p",te,a(t.old_value),1)):f("",!0)]),e("div",le,a(d(x)(t.created_at).locale("th").format("D MMM BBBB HH:mm:ss"))+" น. ",1)]))),128))])):(s(),o("div",se,l[8]||(l[8]=[e("label",{for:""},"ไม่พบข้อมูล",-1)])))]),_:1}))}};export{ce as default};
