import{r as v,C as y,o as u,c as m,a as e,t as r,F as k,f as C,w as S,l as O,u as f,d as x,e as a,i as h,v as $,j as q}from"./app-CP6RF8In.js";import{A as N}from"./AppLayout-6jvfy5Lo.js";import{_ as w}from"./ModalUpToYou-Bop7fH5u.js";import{d as _,b as U}from"./buddhistEra-DwBBCdWO.js";import{_ as V}from"./PaginateMe-CMG0KNBD.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Navbar-O2L6vFPL.js";const E={class:"mb-4 py-2 border-b-2 bg-blue-50 border-blue-700 rounded-md"},I={class:"flex-col justify-between"},D={class:"flex justify-between"},L={class:"underline underline-offset-2 text-green-900 text-lg"},H={class:""},z={class:"text-green-900 text-lg"},R={class:"w-full p-2 rounded-md"},T=["value"],G={for:"one"},J={class:"font-bold"},K={class:"font-bold"},P={class:"font-bold"},Q={class:"w-full flex flex-col text-gray-900 text-md font-medium"},W={class:"w-full flex flex-col text-gray-900 text-md font-medium"},X={__name:"Annouce",props:{annouceFrom:{type:Number,required:!0},annouceIndex:{type:Number,required:!0},annouce:{type:Object,required:!0},annouce_status_list:{type:Object,required:!0}},setup(t){_.extend(U);const l=t,d=v(!1),i=v(!1),o=v(""),n=y({annouce_id:l.annouce.id,annouce_status:l.annouce.status?l.annouce.status:""}),b=()=>{i.value=!0,o.value="ลบข่าว"},j=()=>{i.value=!1},A=()=>{d.value=!0,n.annouce_status=="off"?o.value="ปิดการแสดงผล":o.value="เปิดการแสดงผล"},M=()=>{d.value=!1},B=()=>{d.value=!1,n.post(route("update_status-annouce"),{preserveState:!0,preserveScroll:!0,onSuccess:c=>{},onError:c=>{},onFinish:c=>{}})},F=()=>{i.value=!1,n.annouce_status="canceled",n.post(route("delete-annouce"),{preserveState:!0,preserveScroll:!0,onSuccess:c=>{console.log("success")},onError:c=>{console.log("error")},onFinish:c=>{console.log("finish")}})};return(c,s)=>(u(),m("div",null,[e("div",E,[e("div",I,[e("div",D,[e("label",L," ข่าวที่ "+r(t.annouceFrom+t.annouceIndex),1),e("button",{class:"flex justify-center text-red-700 rounded-md hover:bg-red-300 focus:outline-2",onClick:b},s[2]||(s[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-8"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]))]),e("div",H,[e("label",z,r(t.annouce.message),1)]),e("div",R,[s[3]||(s[3]=e("div",{class:"mt-3"},[e("label",{for:""},"สถานะข่าว:")],-1)),(u(!0),m(k,null,C(t.annouce_status_list,g=>(u(),m("div",{key:g.id,class:"form-check"},[S(e("input",{type:"radio",id:"one",value:g.id,"onUpdate:modelValue":s[0]||(s[0]=p=>f(n).annouce_status=p),class:"form-check-input appearance-none rounded-full h-4 w-4 border border-gray-300 bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer",onChange:s[1]||(s[1]=p=>A())},null,40,T),[[O,f(n).annouce_status]]),e("label",G,r(g.desc),1)]))),128))]),e("div",null,[e("label",J," แสดงผลที่หน้าจอ: "+r(t.annouce.show_on_page),1)]),e("div",null,[e("label",K," ผู้บันทึก: "+r(t.annouce.user.name),1)]),e("div",null,[e("label",P," วันที่บันทึก: "+r(f(_)(t.annouce.updated_at).locale("th").format("D MMM BBBB HH:mm"))+" น. ",1)])])]),x(w,{isModalOpen:d.value},{header:a(()=>s[4]||(s[4]=[e("p",{class:"text-md font-bold text-red-600"},"คุณต้องการแก้ไขสถานะข่าวนี้ใช่หรือไม่?",-1)])),body:a(()=>[e("div",Q,[e("div",null,r(o.value),1)])]),footer:a(()=>[e("div",{class:"w-full text-center md:block"},[e("button",{class:"mx-4 md:mb-0 bg-green-600 px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-white rounded-full hover:shadow-lg hover:bg-green-400",onClick:B}," ตกลง "),e("button",{class:"mx-4 md:mb-0 bg-red-500 border border-red-500 px-5 py-2 text-sm shadow-sm font-medium tracking-wider text-white rounded-full hover:shadow-lg hover:bg-red-600",onClick:M}," ยกเลิก ")])]),_:1},8,["isModalOpen"]),x(w,{isModalOpen:i.value},{header:a(()=>s[5]||(s[5]=[e("p",{class:"text-md font-bold text-red-600"},"คุณต้องการแก้ไขสถานะข่าวนี้ใช่หรือไม่?",-1)])),body:a(()=>[e("div",W,[e("div",null,r(o.value),1)])]),footer:a(()=>[e("div",{class:"w-full text-center md:block"},[e("button",{class:"mx-4 md:mb-0 bg-green-600 px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-white rounded-full hover:shadow-lg hover:bg-green-400",onClick:F}," ตกลง "),e("button",{class:"mx-4 md:mb-0 bg-red-500 border border-red-500 px-5 py-2 text-sm shadow-sm font-medium tracking-wider text-white rounded-full hover:shadow-lg hover:bg-red-600",onClick:j}," ยกเลิก ")])]),_:1},8,["isModalOpen"])]))}},Y={class:"p-2"},Z={class:""},ee={key:0,class:"text-center font-bold text-lg"},ue={__name:"AnnouceList",props:{annouces:{type:Object,required:!0},annouce_status_list:{type:Object,required:!0}},setup(t){const l=y({message:""}),d=()=>{l.post(route("add-annouce-new"),{preserveState:!1,preserveScroll:!0})};return(i,o)=>(u(),h(N,null,{default:a(()=>[e("div",Y,[o[2]||(o[2]=e("h1",{class:"text-center font-bold text-lg"},"รายการข่าวประชาสัมพันธ์",-1)),o[3]||(o[3]=e("p",null,"เพิ่มข่าว",-1)),S(e("textarea",{"onUpdate:modelValue":o[0]||(o[0]=n=>f(l).message=n),class:"my-4 block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500"},"            ",512),[[$,f(l).message]]),e("button",{class:"w-full flex justify-center px-8 py-2 mb-2 text-sm text-white bg-green-700 rounded-md hover:bg-green-400 focus:outline-none",onClick:o[1]||(o[1]=n=>d())}," บันทึกข่าว ")]),e("div",Z,[t.annouces?q("",!0):(u(),m("p",ee," ไม่พบข้อมูลข่าวประชาสัมพันธ์")),x(V,{pagination:t.annouces},null,8,["pagination"]),(u(!0),m(k,null,C(t.annouces.data,(n,b)=>(u(),h(X,{key:n.id,annouceFrom:t.annouces.from,annouceIndex:b,annouce:n,annouce_status_list:t.annouce_status_list},null,8,["annouceFrom","annouceIndex","annouce","annouce_status_list"]))),128))])]),_:1}))}};export{ue as default};
