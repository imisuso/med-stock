import{u as E,i as k,r,o,j as D,e as N,a as e,t as a,c as n,k as h,w as y,l as x,b as l,f,F as m,d as A,g as F}from"./app.3668e533.js";import{A as H}from"./AppLayout.52e94697.js";import{_ as O}from"./PaginateMe.2445a0be.js";import{d as w,b as z}from"./buddhistEra.0f0bd8d0.js";import"./_plugin-vue_export-helper.cdc0426e.js";const P={class:"my-3 bg-blue-800 text-white text-xl text-center"},U={class:"w-full p-2 rounded-md"},$={class:"mt-3 font-bold"},L=e("label",{for:""},"\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E04\u0E25\u0E31\u0E07\u0E1E\u0E31\u0E2A\u0E14\u0E38",-1),R={key:0,class:"text-red-600"},I=["value"],T={class:"flex flex-col mb-2 text-md font-bold text-gray-900"},q={class:"m-2"},G=e("label",{for:""},"\u0E1B\u0E35 \u0E1E.\u0E28. (\u0E1B\u0E35\u0E1B\u0E0F\u0E34\u0E17\u0E34\u0E19 \u0E15\u0E32\u0E21\u0E17\u0E35\u0E48\u0E21\u0E35\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E15\u0E31\u0E14\u0E2A\u0E15\u0E4A\u0E2D\u0E01)",-1),J={key:0,class:"text-red-600"},K=["value"],Q={class:"m-2"},W=e("label",{for:""},"\u0E40\u0E14\u0E37\u0E2D\u0E19",-1),X={key:0,class:"text-red-600"},Y=["value"],Z={class:"flex flex-col"},ee=e("div",{class:"w-full py-3 text-center font-bold text-lg"},[e("label",{for:""},"\u0E23\u0E32\u0E22\u0E07\u0E32\u0E19\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E15\u0E31\u0E14\u0E2A\u0E15\u0E4A\u0E2D\u0E01")],-1),te={key:0,class:"w-full text-center font-bold text-lg"},se=e("label",{for:""},null,-1),le=[se],oe={class:"w-full py-3 text-center font-bold text-lg"},ae={for:""},ne={key:1,class:"w-full text-center"},de=e("label",{for:""},"\u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25",-1),ie=[de],ce=e("div",{class:"w-full my-3 border-b-4 border-gray-500 shadow-sm hidden lg:block"},[e("div",{class:"flex flex-col lg:flex-row lg:justify-between mx-2"},[e("div",{class:"lg:w-2/12"}," \u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E1A\u0E34\u0E01: "),e("div",{class:"lg:w-2/12"}," \u0E1C\u0E39\u0E49\u0E40\u0E1A\u0E34\u0E01: "),e("div",{class:"lg:w-4/12"}," SAP-\u0E0A\u0E37\u0E48\u0E2D\u0E1E\u0E31\u0E2A\u0E14\u0E38: "),e("div",{class:"lg:w-2/12"}," \u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E21\u0E14\u0E2D\u0E32\u0E22\u0E38: "),e("div",{class:"lg:w-1/12"}," \u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E40\u0E1A\u0E34\u0E01: "),e("div",{class:"lg:w-1/12"}," \u0E08\u0E33\u0E19\u0E27\u0E19\u0E04\u0E07\u0E40\u0E2B\u0E25\u0E37\u0E2D\u0E1B\u0E31\u0E08\u0E08\u0E38\u0E1A\u0E31\u0E19: ")])],-1),re={class:"w-full mt-3"},ue={class:"flex flex-col lg:flex-row"},_e={class:"bg-blue-100 lg:bg-transparent lg:w-2/12"},he={for:"",class:""},fe=e("label",{for:"",class:"lg:hidden"},"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E1A\u0E34\u0E01:",-1),me={class:"font-bold"},ge={class:"lg:w-2/12 lg:text-xs"},be=e("label",{for:"",class:"lg:hidden"},"\u0E1C\u0E39\u0E49\u0E40\u0E1A\u0E34\u0E01:",-1),ve={class:"font-bold"},pe={class:"lg:w-4/12 lg:text-xs"},ye=e("label",{for:"",class:"lg:hidden"},"SAP:",-1),xe={class:"font-bold"},we={class:"lg:w-2/12"},ke=e("label",{for:"",class:"lg:hidden"},"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E21\u0E14\u0E2D\u0E32\u0E22\u0E38:",-1),Be={class:"font-bold"},Se={class:"lg:w-1/12"},je=e("label",{for:"",class:"lg:hidden"},"\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E40\u0E1A\u0E34\u0E01:",-1),Ve={class:"font-bold"},Me={class:"lg:w-1/12"},Ce=e("label",{for:"",class:"lg:hidden"},"\u0E08\u0E33\u0E19\u0E27\u0E19\u0E04\u0E07\u0E40\u0E2B\u0E25\u0E37\u0E2D\u0E1B\u0E31\u0E08\u0E08\u0E38\u0E1A\u0E31\u0E19:",-1),Ee={class:"font-bold"},De={key:2,class:"mt-6 flex flex-col"},Ne=["href"],Ae=["href"],Fe=e("div",{class:"flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z","clip-rule":"evenodd"})]),F(" \u0E1E\u0E34\u0E21\u0E1E\u0E4C\u0E23\u0E32\u0E22\u0E07\u0E32\u0E19\u0E15\u0E31\u0E14\u0E2A\u0E15\u0E4A\u0E2D\u0E01\u0E1E\u0E31\u0E2A\u0E14\u0E38 ")],-1),He=[Fe],Le={name:"CreateReportStock",props:{stocks:Object,unit:Object,item_trans:{type:Object},unit_selected:{type:String},year_selected:{type:String},month_selected:{type:String},year_has:{type:Object}},setup(c){const u=c;w.extend(z);const s=E({unit_selected:u.unit_selected?u.unit_selected:[],year_selected:u.year_selected?u.year_selected:[],month_selected:u.month_selected?u.month_selected:[],unitid:k().props.value.auth.user.unitid?k().props.value.auth.user.unitid:0,stock_id_selected:{type:Number}}),B=r(["","\u0E21\u0E01\u0E23\u0E32\u0E04\u0E21","\u0E01\u0E38\u0E21\u0E20\u0E32\u0E1E\u0E31\u0E19\u0E18\u0E4C","\u0E21\u0E35\u0E19\u0E32\u0E04\u0E21","\u0E40\u0E21\u0E29\u0E32\u0E22\u0E19","\u0E1E\u0E24\u0E29\u0E20\u0E32\u0E04\u0E21","\u0E21\u0E34\u0E16\u0E38\u0E19\u0E32\u0E22\u0E19","\u0E01\u0E23\u0E01\u0E0E\u0E32\u0E04\u0E21","\u0E2A\u0E34\u0E07\u0E2B\u0E32\u0E04\u0E21","\u0E01\u0E31\u0E19\u0E22\u0E32\u0E22\u0E19","\u0E15\u0E38\u0E25\u0E32\u0E04\u0E21","\u0E1E\u0E24\u0E28\u0E08\u0E34\u0E01\u0E32\u0E22\u0E19","\u0E18\u0E31\u0E19\u0E27\u0E32\u0E04\u0E21"]),S=r([{id:1,name:"\u0E21\u0E01\u0E23\u0E32\u0E04\u0E21"},{id:2,name:"\u0E01\u0E38\u0E21\u0E20\u0E32\u0E1E\u0E31\u0E19\u0E18\u0E4C"},{id:3,name:"\u0E21\u0E35\u0E19\u0E32\u0E04\u0E21"},{id:4,name:"\u0E40\u0E21\u0E29\u0E32\u0E22\u0E19"},{id:5,name:"\u0E1E\u0E24\u0E29\u0E20\u0E32\u0E04\u0E21"},{id:6,name:"\u0E21\u0E34\u0E16\u0E38\u0E19\u0E32\u0E22\u0E19"},{id:7,name:"\u0E01\u0E23\u0E01\u0E0E\u0E32\u0E04\u0E21"},{id:8,name:"\u0E2A\u0E34\u0E07\u0E2B\u0E32\u0E04\u0E21"},{id:9,name:"\u0E01\u0E31\u0E19\u0E22\u0E32\u0E22\u0E19"},{id:10,name:"\u0E15\u0E38\u0E25\u0E32\u0E04\u0E21"},{id:11,name:"\u0E1E\u0E24\u0E28\u0E08\u0E34\u0E01\u0E32\u0E22\u0E19"},{id:12,name:"\u0E18\u0E31\u0E19\u0E27\u0E32\u0E04\u0E21"}]);r([2023,2022,2021,2020,2019,2018]);const g=r(0),b=r(!1),v=r(!1),p=r(!1),j=i=>i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),V=i=>i.length==0?"":i+543,M=()=>{g.value=s.unit_selected,s.stock_id_selected=g.value},C=(i,d,t)=>{if(b.value=!1,v.value=!1,p.value=!1,i.length==0)return b.value=!0,!1;if(d.length==0)return v.value=!0,!1;if(t.length==0)return p.value=!0,!1;s.get(route("report-checkout-item",s.unitid),{preserveState:!0,preserveScroll:!0,onSuccess:_=>{},onError:_=>{},onFinish:_=>{console.log("finish")}})};return(i,d)=>(o(),D(H,null,{default:N(()=>[e("div",P,a(i.$page.props.unit.unitname),1),e("div",U,[e("div",$,[L,b.value?(o(),n("label",R," !\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E04\u0E25\u0E31\u0E07\u0E1E\u0E31\u0E2A\u0E14\u0E38")):h("",!0)]),y(e("select",{name:"",id:"","onUpdate:modelValue":d[0]||(d[0]=t=>l(s).unit_selected=t),class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-2 py-2 pr-6 rounded shadow leading-tight focus:outline-none focus:shadow-outline",onChange:M},[(o(!0),n(m,null,f(c.stocks,t=>(o(),n("option",{key:t.id,value:t.id},a(t.stockname),9,I))),128))],544),[[x,l(s).unit_selected]])]),e("div",T,[e("div",q,[G,v.value?(o(),n("label",J," !\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E1B\u0E35 \u0E1E.\u0E28.")):h("",!0),y(e("select",{name:"",id:"","onUpdate:modelValue":d[1]||(d[1]=t=>l(s).year_selected=t),class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-2 py-2 pr-6 rounded shadow leading-tight focus:outline-none focus:shadow-outline"},[(o(!0),n(m,null,f(c.year_has,(t,_)=>(o(),n("option",{key:_,value:t.year},a(t.year+543),9,K))),128))],512),[[x,l(s).year_selected]])]),e("div",Q,[W,p.value?(o(),n("label",X," !\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E40\u0E14\u0E37\u0E2D\u0E19")):h("",!0),y(e("select",{name:"",id:"","onUpdate:modelValue":d[2]||(d[2]=t=>l(s).month_selected=t),class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-2 py-2 pr-6 rounded shadow leading-tight focus:outline-none focus:shadow-outline"},[(o(!0),n(m,null,f(S.value,t=>(o(),n("option",{key:t.id,value:t.id},a(t.name),9,Y))),128))],512),[[x,l(s).month_selected]])])]),e("div",Z,[e("button",{onClick:d[3]||(d[3]=t=>C(l(s).unit_selected,l(s).year_selected,l(s).month_selected)),class:"flex justify-center px-8 py-2 mb-2 text-sm text-white bg-blue-600 rounded-md hover:bg-blue-400 focus:outline-none"}," \u0E14\u0E39\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E01\u0E32\u0E23\u0E40\u0E1A\u0E34\u0E01 ")]),ee,g.value!=0?(o(),n("div",te,le)):h("",!0),e("div",oe,[e("label",ae,a(B.value[l(s).month_selected])+" \u0E1B\u0E35 "+a(V(l(s).year_selected)),1)]),c.item_trans.length==0?(o(),n("div",ne,ie)):h("",!0),e("div",null,[A(O,{pagination:c.item_trans},null,8,["pagination"]),ce]),e("div",re,[(o(!0),n(m,null,f(c.item_trans.data,(t,_)=>(o(),n("div",{key:t.id,class:"w-full border-b-2 border-gray-500 shadow-sm"},[e("div",ue,[e("div",_e,[e("label",he,a(c.item_trans.from+_)+". ",1),fe,e("label",me,a(l(w)(t.date_action).locale("th").format("D MMM BBBB")),1)]),e("div",ge,[be,e("label",ve,a(t.user.name),1)]),e("div",pe,[ye,e("label",xe,a(t.stock_item.item_code)+" - "+a(t.stock_item.item_name),1)]),e("div",we,[ke,e("label",Be,a(l(w)(t.date_expire_last).locale("th").format("D MMM BBBB")),1)]),e("div",Se,[je,e("label",Ve,a(t.item_count),1)]),e("div",Me,[Ce,e("label",Ee,a(j(t.item_balance)),1)])])]))),128))]),c.item_trans.length!=0?(o(),n("div",De,[e("a",{class:"flex justify-center mt-3 px-8 py-1 text-md text-white bg-blue-700 rounded-sm shadow-md hover:bg-yellow-200 focus:outline-none",href:i.route("export-checkout-item",{stock_id:l(s).unit_selected,year:l(s).year_selected,month:l(s).month_selected})}," Export Excel ",8,Ne),e("a",{href:i.route("print-cutstock-pdf",{stock_id:l(s).unit_selected,year:l(s).year_selected,month:l(s).month_selected}),target:"blank",class:"flex justify-center mt-3 px-8 py-1 text-md text-white bg-purple-500 rounded-sm shadow-md hover:bg-purple-200 focus:outline-none"},He,8,Ae)])):h("",!0)]),_:1}))}};export{Le as default};
