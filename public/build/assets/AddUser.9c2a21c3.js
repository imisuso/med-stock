import{r as _,u as V,o as d,j as $,e as m,c as a,a as e,g as f,t as o,k as r,w as h,v as S,b as i,l as y,F as b,f as w,d as U}from"./app.87376722.js";import{A as z}from"./AppLayout.a54059f1.js";import{_ as N}from"./ModalUpToYou.0d8a4905.js";import{d as k,b as O}from"./buddhistEra.e9367246.js";import"./_plugin-vue_export-helper.cdc0426e.js";const E={key:0,class:"alert-banner fixed right-0 m-4 w-2/3 md:w-full max-w-sm"},F=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1),H={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-green-300 shadow rounded-md text-green-800 font-bold",title:"close",for:"banneralert"},D=e("svg",{class:"fill-current text-white",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),T={key:1,class:"alert-banner fixed right-0 m-4 w-2/3 md:w-full max-w-sm"},P=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1),R={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-yellow-200 shadow rounded-md text-yellow-800 font-bold",title:"close",for:"banneralert"},q=e("svg",{class:"fill-current text-red",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),G={key:2,class:"alert-banner fixed right-0 m-4 w-2/3 md:w-full max-w-sm"},I=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1),J={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-red-200 shadow rounded-md text-red-800 font-bold",title:"close",for:"banneralert"},K=e("svg",{class:"fill-current text-red",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),Q=e("div",{class:"w-full text-sm p-4 my-2 justify-center bg-red-100"},[e("p",{for:"",class:"underline underline-offset-1"},"\u0E04\u0E33\u0E41\u0E19\u0E30\u0E19\u0E33\u0E01\u0E32\u0E23\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),e("p",{for:""},"1.\u0E23\u0E30\u0E1A\u0E38\u0E23\u0E2B\u0E31\u0E2A\u0E40\u0E08\u0E49\u0E32\u0E2B\u0E19\u0E49\u0E32\u0E17\u0E35\u0E48 \u0E41\u0E25\u0E49\u0E27\u0E01\u0E14\u0E1B\u0E38\u0E48\u0E21\u0E15\u0E23\u0E27\u0E08\u0E2A\u0E2D\u0E1A\u0E2A\u0E16\u0E32\u0E19\u0E30 \u0E41\u0E25\u0E49\u0E27\u0E15\u0E23\u0E27\u0E08\u0E2A\u0E2D\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E27\u0E48\u0E32\u0E40\u0E1B\u0E47\u0E19\u0E1A\u0E38\u0E04\u0E04\u0E25\u0E17\u0E35\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E40\u0E1B\u0E47\u0E19\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E23\u0E30\u0E1A\u0E1A\u0E19\u0E35\u0E49\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48"),e("p",{for:""},"2.\u0E23\u0E30\u0E1A\u0E38\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E07\u0E32\u0E19\u0E20\u0E32\u0E22\u0E43\u0E19\u0E20\u0E32\u0E04\u0E27\u0E34\u0E0A\u0E32\u0E2F\u0E17\u0E35\u0E48\u0E1A\u0E38\u0E04\u0E04\u0E25\u0E19\u0E35\u0E49\u0E2A\u0E31\u0E07\u0E01\u0E31\u0E14 \u0E0B\u0E36\u0E48\u0E07\u0E2B\u0E32\u0E01\u0E2A\u0E31\u0E07\u0E01\u0E31\u0E14\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E07\u0E32\u0E19\u0E43\u0E14\u0E01\u0E47\u0E08\u0E30\u0E21\u0E35\u0E2A\u0E34\u0E17\u0E18\u0E34\u0E40\u0E02\u0E49\u0E32\u0E16\u0E36\u0E07\u0E04\u0E25\u0E31\u0E07\u0E1E\u0E31\u0E2A\u0E14\u0E38\u0E02\u0E2D\u0E07\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E07\u0E32\u0E19\u0E19\u0E31\u0E49\u0E19\u0E40\u0E17\u0E48\u0E32\u0E19\u0E31\u0E49\u0E19 "),e("p",{for:""},"3.\u0E23\u0E30\u0E1A\u0E38\u0E2A\u0E34\u0E17\u0E18\u0E34\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E23\u0E30\u0E1A\u0E1A (\u0E2B\u0E32\u0E01\u0E40\u0E1B\u0E47\u0E19\u0E40\u0E08\u0E49\u0E32\u0E2B\u0E19\u0E49\u0E32\u0E17\u0E35\u0E48\u0E2A\u0E32\u0E02\u0E32\u0E17\u0E35\u0E48\u0E17\u0E33\u0E2B\u0E19\u0E49\u0E32\u0E17\u0E35\u0E48\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E15\u0E31\u0E14\u0E2A\u0E15\u0E4A\u0E2D\u0E01 \u0E43\u0E2B\u0E49\u0E23\u0E30\u0E1A\u0E38\u0E2A\u0E34\u0E17\u0E18\u0E34\u0E40\u0E1B\u0E47\u0E19 \u0E40\u0E08\u0E49\u0E32\u0E2B\u0E19\u0E49\u0E32\u0E17\u0E35\u0E48)")],-1),W={class:"w-full p-4 flex-col justify-center bg-blue-100 rounded-md"},X=e("div",{class:"text-center text-lg font-bold"},[e("p",{class:"my-2"},"\u0E40\u0E1E\u0E34\u0E48\u0E21/\u0E41\u0E01\u0E49\u0E44\u0E02 \u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19")],-1),Y={class:"w-full bg-blue-100 p-2 rounded-md"},Z={class:"mt-3"},ee=e("label",{class:"text-lg font-bold text-green-600"},"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19:",-1),te=e("label",null,"\u0E23\u0E30\u0E1A\u0E38\u0E23\u0E2B\u0E31\u0E2A\u0E40\u0E08\u0E49\u0E32\u0E2B\u0E19\u0E49\u0E32\u0E17\u0E35\u0E48 8 \u0E2B\u0E25\u0E31\u0E01(SAP)",-1),se={class:"mt-3"},le={class:"mt-3"},oe={key:0,class:"flex flex-col text-red-600 text-center"},ne=e("label",{for:""}," \u0E2A\u0E16\u0E32\u0E19\u0E30:\u0E1E\u0E1A\u0E23\u0E2B\u0E31\u0E2A\u0E40\u0E08\u0E49\u0E32\u0E2B\u0E19\u0E49\u0E32\u0E17\u0E35\u0E48\u0E15\u0E32\u0E21\u0E17\u0E35\u0E48\u0E23\u0E30\u0E1A\u0E38\u0E43\u0E19\u0E10\u0E32\u0E19\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E23\u0E30\u0E1A\u0E1A\u0E1E\u0E31\u0E2A\u0E14\u0E38\u0E41\u0E25\u0E49\u0E27 ",-1),de=[ne],ae={key:1,for:"",class:"text-red-600"},ie={key:2,for:"",class:"text-red-600"},re={key:0},ce={class:"bg-red-100 border-2 border-red-400 p-4 text-sm"},ue=e("div",{class:"flex"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6 text-red-600"},[e("path",{"fill-rule":"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"})]),e("p",{for:"",class:"text-red-500 font-bold text-lg"},"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E15\u0E23\u0E27\u0E08\u0E2A\u0E2D\u0E1A\u0E04\u0E27\u0E32\u0E21\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E48\u0E2D\u0E19\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19")],-1),_e=e("label",{for:""},"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E19\u0E35\u0E49\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A\u0E21\u0E32\u0E08\u0E32\u0E01\u0E01\u0E32\u0E23\u0E40\u0E0A\u0E37\u0E48\u0E2D\u0E21\u0E42\u0E22\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E30\u0E1A\u0E1A\u0E02\u0E2D\u0E07\u0E04\u0E13\u0E30\u0E2F:",-1),me={class:"w-full bg-blue-100 p-2 rounded-md"},pe=e("div",{class:"mt-3"},[e("label",{for:""},"\u0E23\u0E30\u0E1A\u0E38\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E07\u0E32\u0E19\u0E17\u0E35\u0E48\u0E2A\u0E31\u0E07\u0E01\u0E31\u0E14:")],-1),fe=["value"],he={class:"w-full bg-blue-100 p-2 rounded-md"},be=e("div",{class:"bg-blue-800 text-white text-xl text-center"},null,-1),we=e("div",{class:"mt-3"},[e("label",{for:""},"\u0E23\u0E30\u0E1A\u0E38\u0E2A\u0E34\u0E17\u0E18\u0E34\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E23\u0E30\u0E1A\u0E1A:")],-1),ge=["value"],xe={class:"mt-4 text-center"},ve={class:"w-full text-sm my-2 rounded-md"},ye=e("label",{class:"text-lg font-bold"},"\u0E23\u0E32\u0E22\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14:",-1),ke=["value"],je={class:"flex flex-col lg:flex-row lg:justify-between"},Le=e("label",{class:"p-2 text-blue-600"},"\u0E2A\u0E16\u0E32\u0E19\u0E30:",-1),Me={class:"underline underline-offset-2"},Be={class:""},Ae={class:"mx-2 text-xs"},Ce={class:"flex mx-2 justify-center px-2"},Ve=["href"],$e=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 bg-yellow-200"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),Se=[$e],Ue=e("p",{class:"text-md font-bold text-red-600"},"\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E19\u0E35\u0E49\u0E43\u0E0A\u0E48\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?",-1),ze={class:"text-gray-900 text-md font-medium dark:text-white"},Ne={for:"",class:"flex justify-start w-full text-sm"},Oe={class:"flex justify-start w-full text-sm"},Ee={class:"flex justify-start w-full text-sm"},Fe={class:"flex justify-start w-full text-sm"},qe={name:"AddUser",props:{stocks:Array,units:Object,roles:Object,users:Object},setup(u){const g=u;k.extend(O),_("");const c=_(""),x=_(""),p=_(!1),t=V({sap_id:"",unit_id:0,role_id:0,employee_full_name:"",employee_division_name:"",employee_division_id:"",employee_position_name:"",employee_account_name:""}),j=()=>{p.value=!0},L=()=>{p.value=!1},M=()=>{let s={};return s=g.roles.find(n=>n.id===t.role_id),s.label},B=()=>{let s={};return s=g.units.find(n=>n.unitid===t.unit_id),s.unitname},A=()=>{t.unit_id=0,t.role_id=0,t.employee_full_name="",t.employee_division_name="",t.employee_division_id="",t.employee_position_name="",t.employee_account_name="",axios.get(route("check-employee-status",{sap_id:t.sap_id})).then(s=>{c.value=s.data.status,x.value=s.data.login,s.data.status=="active"&&(t.employee_full_name=s.data.full_name,t.employee_division_name=s.data.division_name,t.employee_division_id=s.data.division_id,t.employee_position_name=s.data.position_name,t.employee_account_name=s.data.login)})},C=()=>{t.post(route("add-user"),{preserveState:!1,preserveScroll:!0,onSuccess:s=>{console.log("success")},onError:s=>{console.log("error")},onFinish:s=>{console.log("finish add user")}})};return(s,n)=>(d(),$(z,null,{default:m(()=>[s.$page.props.flash.status=="success"?(d(),a("div",E,[F,e("label",H,[f(o(s.$page.props.flash.msg)+" ",1),D])])):r("",!0),s.$page.props.flash.status=="warning"?(d(),a("div",T,[P,e("label",R,[f(o(s.$page.props.flash.msg)+" ",1),q])])):r("",!0),s.$page.props.flash.status=="error"?(d(),a("div",G,[I,e("label",J,[f(o(s.$page.props.flash.msg)+" ",1),K])])):r("",!0),Q,e("div",W,[X,e("div",Y,[e("div",Z,[ee,te,e("button",{type:"submit",class:"inline-flex text-sm ml-3 bg-blue-500 hover:bg-blue-700 text-white py-1 px-6 border border-blue-500 rounded",onClick:n[0]||(n[0]=l=>A())}," \u0E15\u0E23\u0E27\u0E08\u0E2A\u0E2D\u0E1A\u0E2A\u0E16\u0E32\u0E19\u0E30 ")]),e("div",se,[h(e("input",{type:"number",name:"",class:"w-full py-2 rounded-md","onUpdate:modelValue":n[1]||(n[1]=l=>i(t).sap_id=l)},null,512),[[S,i(t).sap_id]]),e("div",le,[c.value=="found_user_med_stock"?(d(),a("div",oe,de)):r("",!0),c.value=="not_found"?(d(),a("label",ae," \u0E2A\u0E16\u0E32\u0E19\u0E30:\u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E23\u0E2B\u0E31\u0E2A\u0E40\u0E08\u0E49\u0E32\u0E2B\u0E19\u0E49\u0E32\u0E17\u0E35\u0E48\u0E15\u0E32\u0E21\u0E17\u0E35\u0E48\u0E23\u0E30\u0E1A\u0E38 ")):r("",!0),c.value=="withdrawn"?(d(),a("label",ie," \u0E2A\u0E16\u0E32\u0E19\u0E30: "+o(x.value)+" \u0E40\u0E08\u0E49\u0E32\u0E2B\u0E19\u0E49\u0E32\u0E17\u0E35\u0E48\u0E19\u0E35\u0E49\u0E25\u0E32\u0E2D\u0E2D\u0E01\u0E41\u0E25\u0E49\u0E27 ",1)):r("",!0)])])]),c.value=="active"?(d(),a("div",re,[e("div",ce,[ue,_e,e("li",null,"\u0E0A\u0E37\u0E48\u0E2D: "+o(i(t).employee_full_name),1),e("li",null,"\u0E2A\u0E31\u0E07\u0E01\u0E31\u0E14: "+o(i(t).employee_division_name),1),e("li",null,"\u0E15\u0E33\u0E41\u0E2B\u0E19\u0E48\u0E07: "+o(i(t).employee_position_name),1)]),e("div",me,[pe,h(e("select",{name:"",id:"",class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-2 py-2 pr-6 rounded shadow leading-tight focus:outline-none focus:shadow-outline","onUpdate:modelValue":n[2]||(n[2]=l=>i(t).unit_id=l)},[(d(!0),a(b,null,w(u.units,l=>(d(),a("option",{key:l.id,value:l.unitid},o(l.unitname),9,fe))),128))],512),[[y,i(t).unit_id]])]),e("div",he,[be,we,h(e("select",{name:"",id:"",class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-2 py-2 pr-6 rounded shadow leading-tight focus:outline-none focus:shadow-outline","onUpdate:modelValue":n[3]||(n[3]=l=>i(t).role_id=l)},[(d(!0),a(b,null,w(u.roles,l=>(d(),a("option",{key:l.id,value:l.id},o(l.label),9,ge))),128))],512),[[y,i(t).role_id]])]),e("div",xe,[e("div",null,[e("button",{type:"submit",class:"w-full p-3 text-md bg-green-500 hover:bg-green-700 text-white py-1 px-6 border border-green-500 rounded shadow-md",onClick:n[4]||(n[4]=l=>j())}," \u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01 ")])])])):r("",!0)]),e("div",ve,[ye,(d(!0),a(b,null,w(u.users,(l,v)=>(d(),a("div",{key:v,value:l.id,class:"bg-white p-2 my-2 lg:flex lg:justify-between border-b-2 border-gray-300"},[e("div",je,[e("div",null,o(v+1)+". "+o(l.name)+" ("+o(l.unit.unitname)+") ",1),e("div",null,[Le,e("label",Me,o(l.status_name),1)]),e("div",Be,[e("label",Ae," \u0E41\u0E01\u0E49\u0E44\u0E02\u0E25\u0E48\u0E32\u0E2A\u0E38\u0E14\u0E40\u0E21\u0E37\u0E48\u0E2D: "+o(i(k)(l.updated_at).locale("th").format("D MMM BBBB H:mm"))+" \u0E19. ",1)])]),e("div",Ce,[e("a",{href:s.route("show-detail-user",l.slug),class:"px-4 mx-2 rounded-md shadow-md bg-yellow-200"},Se,8,Ve)])],8,ke))),128))]),U(N,{isModalOpen:p.value},{header:m(()=>[Ue]),body:m(()=>[e("div",ze,[e("label",Ne," \u0E23\u0E2B\u0E31\u0E2A\u0E40\u0E08\u0E49\u0E32\u0E2B\u0E19\u0E49\u0E32\u0E17\u0E35\u0E48: "+o(i(t).sap_id),1),e("label",Oe," \u0E0A\u0E37\u0E48\u0E2D\u0E40\u0E08\u0E49\u0E32\u0E2B\u0E19\u0E49\u0E32\u0E17\u0E35\u0E48: "+o(i(t).employee_full_name),1),e("label",Ee," \u0E2B\u0E19\u0E48\u0E27\u0E22/\u0E2A\u0E32\u0E02\u0E32:"+o(B()),1),e("label",Fe," \u0E01\u0E33\u0E2B\u0E19\u0E14\u0E2A\u0E34\u0E17\u0E18\u0E34\u0E40\u0E1B\u0E47\u0E19:"+o(M()),1)])]),footer:m(()=>[e("div",{class:"w-full text-center md:block"},[e("button",{class:"mx-4 md:mb-0 bg-green-600 px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-white rounded-full hover:shadow-lg hover:bg-green-400",onClick:C}," \u0E15\u0E01\u0E25\u0E07 "),e("button",{class:"mx-4 md:mb-0 bg-red-500 border border-red-500 px-5 py-2 text-sm shadow-sm font-medium tracking-wider text-white rounded-full hover:shadow-lg hover:bg-red-600",onClick:L}," \u0E22\u0E01\u0E40\u0E25\u0E34\u0E01 ")])]),_:1},8,["isModalOpen"])]),_:1}))}};export{qe as default};
