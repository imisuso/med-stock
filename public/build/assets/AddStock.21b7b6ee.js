import{T as C,r as _,h as A,e as f,o as l,c as n,a as e,b as m,t as d,i as a,w,j as $,u,f as v,F as x,v as k,d as V}from"./app.f5f1b0cb.js";import{A as z}from"./AppLayout.246f2aa0.js";import{_ as F}from"./ModalUpToYou.9d3f9c1e.js";import{d as y,b as H}from"./buddhistEra.52cd24ba.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Navbar.12cd30af.js";const N={key:0,class:"alert-banner fixed right-0 m-4 w-2/3 md:w-full max-w-sm"},U=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1),E={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-green-300 shadow rounded-md text-green-800 font-bold",title:"close",for:"banneralert"},D=e("svg",{class:"fill-current text-white",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),O={key:1,class:"alert-banner fixed right-0 m-4 w-2/3 md:w-full max-w-sm"},T=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1),q={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-yellow-200 shadow rounded-md text-yellow-800 font-bold",title:"close",for:"banneralert"},G=e("svg",{class:"fill-current text-red",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),I={key:2,class:"alert-banner fixed right-0 m-4 w-2/3 md:w-full max-w-sm"},J=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1),K={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-red-200 shadow rounded-md text-red-800 font-bold",title:"close",for:"banneralert"},P=e("svg",{class:"fill-current text-red",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),Q={class:"w-full p-4 flex-col justify-center bg-blue-100 rounded-md"},R=e("div",{class:"text-center text-lg font-bold"},[e("p",{class:"my-2"},"\u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E04\u0E25\u0E31\u0E07\u0E27\u0E31\u0E2A\u0E14\u0E38")],-1),W={class:"w-full bg-blue-100 p-2 rounded-md"},X=e("div",{class:"mt-3"},[e("label",{for:""},"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E07\u0E32\u0E19\u0E17\u0E35\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E40\u0E1E\u0E34\u0E48\u0E21/\u0E41\u0E01\u0E49\u0E44\u0E02 \u0E04\u0E25\u0E31\u0E07:")],-1),Y=["value"],Z={key:0,class:"w-full text-sm my-2 rounded-md"},ee=e("label",{for:""},"\u0E23\u0E32\u0E22\u0E0A\u0E37\u0E48\u0E2D\u0E04\u0E25\u0E31\u0E07\u0E17\u0E35\u0E48\u0E21\u0E35\u0E2D\u0E22\u0E39\u0E48\u0E41\u0E25\u0E49\u0E27\u0E43\u0E19\u0E2B\u0E19\u0E48\u0E27\u0E22/\u0E2A\u0E32\u0E02\u0E32 \u0E19\u0E35\u0E49:",-1),te=["value"],se={class:"flex flex-col lg:flex-row"},oe=e("label",{class:"p-2 text-blue-600"},"\u0E2A\u0E16\u0E32\u0E19\u0E30:",-1),le={class:"bg-red-100"},ne={class:""},re={class:"mx-2 text-xs"},de={class:"flex justify-center"},ie=["href"],ae=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),ue=[ae],ce=["href"],me=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),he=[me],_e={class:"my-2"},fe=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),we={key:1,class:"w-full p-2 my-2 rounded-md"},be=e("label",{for:""},"\u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E23\u0E32\u0E22\u0E0A\u0E37\u0E48\u0E2D\u0E04\u0E25\u0E31\u0E07\u0E43\u0E19\u0E2B\u0E19\u0E48\u0E27\u0E22/\u0E2A\u0E32\u0E02\u0E32 \u0E19\u0E35\u0E49",-1),ge={key:0,class:"my-2"},pe=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),ve={key:2},xe={class:"w-full bg-blue-100 p-2 rounded-md"},ke=e("div",{class:"mt-3"},[e("label",{for:""},"\u0E23\u0E30\u0E1A\u0E38\u0E0A\u0E37\u0E48\u0E2D\u0E04\u0E25\u0E31\u0E07\u0E27\u0E31\u0E2A\u0E14\u0E38(\u0E20\u0E32\u0E29\u0E32\u0E44\u0E17\u0E22):")],-1),ye={class:"w-full bg-blue-100 p-2 rounded-md"},je=e("div",{class:"mt-3"},[e("label",{for:""},"\u0E23\u0E30\u0E1A\u0E38\u0E0A\u0E37\u0E48\u0E2D\u0E04\u0E25\u0E31\u0E07\u0E27\u0E31\u0E2A\u0E14\u0E38(\u0E20\u0E32\u0E29\u0E32\u0E2D\u0E31\u0E07\u0E01\u0E24\u0E29):")],-1),Se={class:""},Be=e("p",{class:"text-md font-bold text-red-600"},"\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E04\u0E25\u0E31\u0E07\u0E27\u0E31\u0E2A\u0E14\u0E38\u0E19\u0E35\u0E49\u0E43\u0E0A\u0E48\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?",-1),Le={class:"text-gray-900 text-md font-medium"},Me={for:"",class:"flex justify-start w-full text-sm"},Ce={class:"flex justify-start w-full text-sm"},Ne={__name:"AddStock",props:{units:Object,status:String,msg:String,unit_search:{type:Number},list_stock_unit:{type:Array,default:[]}},setup(c){const i=c;y.extend(H);const r=C({unit_selected:i.unit_search?i.unit_search:"",unit:i.unit_search?i.unit_search:0,stock_name_thai:"",stock_name_en:"",stocks_unit:i.list_stock_unit?i.list_stock_unit:""});_();const h=_(!1);_("");const b=_(!1),g=()=>{b.value=!0},j=()=>{h.value=!1},S=()=>{i.units.find(s=>console.log(s.unitid));let o={};return o=i.units.find(s=>s.unitid==r.unit),o.unitname},B=()=>{r.get(route("stock-add"),{preserveState:!1,preserveScroll:!0,onSuccess:o=>{},onError:o=>{console.log("error")},onFinish:o=>{}})},L=()=>{h.value=!0},M=()=>{h.value=!1,r.post(route("stock-add-confirm"),{preserveState:!1,preserveScroll:!0,onSuccess:o=>{console.log("success")},onError:o=>{console.log("error")},onFinish:o=>{console.log("finish")}})};return(o,s)=>(l(),A(z,null,{default:f(()=>[c.status=="success"?(l(),n("div",N,[U,e("label",E,[m(d(c.msg)+" ",1),D])])):a("",!0),c.status=="warning"?(l(),n("div",O,[T,e("label",q,[m(d(c.msg)+" ",1),G])])):a("",!0),c.status=="error"?(l(),n("div",I,[J,e("label",K,[m(d(c.msg)+" ",1),P])])):a("",!0),e("div",Q,[R,e("div",W,[X,w(e("select",{name:"",id:"",class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-2 py-2 pr-6 rounded shadow leading-tight focus:outline-none focus:shadow-outline","onUpdate:modelValue":s[0]||(s[0]=t=>u(r).unit=t),onChange:s[1]||(s[1]=t=>B(o.unit))},[(l(!0),n(x,null,v(c.units,t=>(l(),n("option",{key:t.id,value:t.unitid},d(t.unitname),9,Y))),128))],544),[[$,u(r).unit]])]),i.list_stock_unit.length>0?(l(),n("div",Z,[ee,(l(!0),n(x,null,v(u(r).stocks_unit,(t,p)=>(l(),n("div",{key:p,value:t.id,class:"bg-white p-2 my-2 lg:flex lg:justify-between border-b-2 border-gray-300"},[e("div",se,[e("div",null,d(p+1)+". "+d(t.stockname)+"("+d(t.stockengname)+") ",1),e("div",null,[oe,e("label",le,d(t.status_name),1)]),e("div",ne,[e("label",re," \u0E41\u0E01\u0E49\u0E44\u0E02\u0E25\u0E48\u0E32\u0E2A\u0E38\u0E14\u0E40\u0E21\u0E37\u0E48\u0E2D: "+d(u(y)(t.updated_at).locale("th").format("D MMM BBBB H:mm"))+" \u0E19. ",1)])]),e("div",de,[o.$page.props.auth.user.roles[0].name=="admin_med_stock"?(l(),n("a",{key:0,href:o.route("show-detail-stock",t),class:"mx-2 rounded-md shadow-md bg-yellow-200"},ue,8,ie)):a("",!0),o.$page.props.auth.user.roles[0].name=="admin_it"?(l(),n("a",{key:1,href:o.route("get-stock-log",t),class:"mx-2 rounded-md shadow-md bg-blue-300"},he,8,ce)):a("",!0)])],8,te))),128))])):a("",!0),e("div",_e,[o.$page.props.auth.user.roles[0].name=="admin_med_stock"?(l(),n("button",{key:0,type:"submit",class:"w-full flex justify-center py-2 text-md bg-blue-500 hover:bg-blue-700 text-white border border-blue-500 rounded",onClick:s[2]||(s[2]=t=>g())},[fe,m(" \u0E40\u0E1E\u0E34\u0E48\u0E21\u0E04\u0E25\u0E31\u0E07\u0E27\u0E31\u0E2A\u0E14\u0E38 ")])):a("",!0)]),i.list_stock_unit.length==0&&i.unit_search?(l(),n("div",we,[be,o.$page.props.auth.user.roles[0].name=="admin_med_stock"?(l(),n("div",ge,[e("button",{type:"submit",class:"w-full flex justify-center py-2 text-md bg-blue-500 hover:bg-blue-700 text-white border border-blue-500 rounded",onClick:s[3]||(s[3]=t=>g())},[pe,m(" \u0E40\u0E1E\u0E34\u0E48\u0E21\u0E04\u0E25\u0E31\u0E07\u0E27\u0E31\u0E2A\u0E14\u0E38 ")])])):a("",!0)])):a("",!0),b.value?(l(),n("div",ve,[e("div",xe,[ke,w(e("input",{type:"text",class:"w-full py-2 rounded-md","onUpdate:modelValue":s[4]||(s[4]=t=>u(r).stock_name_thai=t)},null,512),[[k,u(r).stock_name_thai]])]),e("div",ye,[je,w(e("input",{type:"text",class:"w-full py-2 rounded-md","onUpdate:modelValue":s[5]||(s[5]=t=>u(r).stock_name_en=t)},null,512),[[k,u(r).stock_name_en]])]),e("div",Se,[e("button",{type:"submit",class:"w-full flex justify-center py-2 text-md bg-green-500 hover:bg-green-700 text-white border border-green-500 rounded",onClick:s[6]||(s[6]=t=>L())}," \u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01 ")])])):a("",!0)]),V(F,{isModalOpen:h.value},{header:f(()=>[Be]),body:f(()=>[e("div",Le,[e("label",Me," \u0E2B\u0E19\u0E48\u0E27\u0E22/\u0E2A\u0E32\u0E02\u0E32: "+d(S()),1),e("label",Ce," \u0E0A\u0E37\u0E48\u0E2D\u0E04\u0E25\u0E31\u0E07: "+d(u(r).stock_name_thai)+" ("+d(u(r).stock_name_en)+") ",1)])]),footer:f(()=>[e("div",{class:"w-full text-center md:block"},[e("button",{class:"mx-4 md:mb-0 bg-green-600 px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-white rounded-full hover:shadow-lg hover:bg-green-400",onClick:M}," \u0E15\u0E01\u0E25\u0E07 "),e("button",{class:"mx-4 md:mb-0 bg-red-500 border border-red-500 px-5 py-2 text-sm shadow-sm font-medium tracking-wider text-white rounded-full hover:shadow-lg hover:bg-red-600",onClick:j}," \u0E22\u0E01\u0E40\u0E25\u0E34\u0E01 ")])]),_:1},8,["isModalOpen"])]),_:1}))}};export{Ne as default};
