import{r as M,T as V,h as $,e as c,o as d,c as i,a as e,b as m,t as r,i as b,w as h,v as B,u as a,j as g,f as _,F as p,C,d as w,k as E}from"./app.b47429c9.js";import{A as S}from"./AppLayout.ab57a030.js";import{_ as A}from"./ModalUpToYou.21fe4361.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Navbar.cdce00da.js";const N={key:0,class:"alert-banner fixed right-0 m-4 w-2/3 md:w-full max-w-sm"},O=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1),z={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-green-300 shadow rounded-md text-green-800 font-bold",title:"close",for:"banneralert"},F=e("svg",{class:"fill-current text-white",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),T={key:1,class:"alert-banner fixed right-0 m-4 w-2/3 md:w-full max-w-sm"},D=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1),R={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-yellow-200 shadow rounded-md text-yellow-800 font-bold",title:"close",for:"banneralert"},q=e("svg",{class:"fill-current text-red",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),G={key:2,class:"alert-banner fixed right-0 m-4 w-2/3 md:w-full max-w-sm"},H=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1),I={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-red-200 shadow rounded-md text-red-800 font-bold",title:"close",for:"banneralert"},J=e("svg",{class:"fill-current text-red",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),K={class:"w-full p-4 flex-col justify-center bg-blue-100 rounded-md"},P=e("div",{class:"text-center text-lg font-bold"},[e("p",{class:"my-2"},"\u0E41\u0E01\u0E49\u0E44\u0E02\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19")],-1),Q={class:"w-full bg-blue-100 rounded-md"},W={class:"mt-3"},X={for:""},Y=e("div",{class:"mt-3"},[e("label",{for:""},"\u0E23\u0E30\u0E1A\u0E38\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E07\u0E32\u0E19\u0E17\u0E35\u0E48\u0E2A\u0E31\u0E07\u0E01\u0E31\u0E14:")],-1),Z=["value"],ee={class:"w-full bg-blue-100 rounded-md"},te={class:"w-full bg-blue-100 rounded-md"},se=e("div",{class:"bg-blue-800 text-white text-xl text-center"},null,-1),le=e("div",{class:"mt-3"},[e("label",{for:""},"\u0E23\u0E30\u0E1A\u0E38\u0E2A\u0E34\u0E17\u0E18\u0E34\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E23\u0E30\u0E1A\u0E1A:")],-1),oe=["value"],re=e("div",{class:"mt-3"},[e("label",{for:""},"\u0E23\u0E30\u0E1A\u0E38\u0E2A\u0E16\u0E32\u0E19\u0E30\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19:")],-1),ne=["value"],de={for:"one"},ae={class:"mt-3"},ie={for:""},ue={class:""},ce=e("p",{class:"text-md font-bold text-red-600"},"\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E41\u0E01\u0E49\u0E44\u0E02\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E43\u0E0A\u0E48\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?",-1),fe={class:"text-gray-900 text-md font-medium"},me={class:"flex justify-start w-full text-sm"},he={class:"flex justify-start w-full text-sm"},be={class:"flex justify-start w-full text-sm"},_e={class:"flex justify-start w-full text-sm"},ye={__name:"EditUser",props:{user:Array,user_status_list:{type:Array,required:!0},units:Object,roles:Object},setup(u){const n=u,f=M(!1),x=t=>n.user_status_list[t-1].desc,v=()=>{let t={};return t=n.roles.find(o=>o.id===l.role_id),l.role_name=t.name,t.label},y=()=>{f.value=!1},l=V({user_id:n.user.id,unit_id:n.user.unitid,role_id:n.user.roles[0].id,role_name:n.user.roles[0].label,user_name_thai:n.user.name?n.user.name:"",user_status:n.user.status?n.user.status:0}),k=()=>{let t={};return t=n.units.find(o=>o.unitid===l.unit_id),t.unitname},j=()=>{f.value=!0},L=()=>{f.value=!1,l.post(route("update-user",l.user_id),{preserveState:!1,preserveScroll:!0,onSuccess:t=>{console.log("success")},onError:t=>{console.log("error")},onFinish:t=>{console.log("finish")}})};return(t,o)=>(d(),$(S,null,{default:c(()=>[t.$page.props.flash.status=="success"?(d(),i("div",N,[O,e("label",z,[m(r(t.$page.props.flash.msg)+" ",1),F])])):b("",!0),t.$page.props.flash.status=="warning"?(d(),i("div",T,[D,e("label",R,[m(r(t.$page.props.flash.msg)+" ",1),q])])):b("",!0),t.$page.props.flash.status=="error"?(d(),i("div",G,[H,e("label",I,[m(r(t.$page.props.flash.msg)+" ",1),J])])):b("",!0),e("div",K,[P,e("div",null,[e("div",Q,[e("div",W,[e("label",X,"\u0E0A\u0E37\u0E48\u0E2D\u0E40\u0E08\u0E49\u0E32\u0E2B\u0E19\u0E49\u0E32\u0E17\u0E35\u0E48:"+r(u.user.name),1)]),e("div",null,[h(e("input",{type:"text",class:"w-full py-2 rounded-md","onUpdate:modelValue":o[0]||(o[0]=s=>a(l).user_name_thai=s)},null,512),[[B,a(l).user_name_thai]])])]),Y,h(e("select",{name:"",id:"",class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-2 py-2 pr-6 rounded shadow leading-tight focus:outline-none focus:shadow-outline","onUpdate:modelValue":o[1]||(o[1]=s=>a(l).unit_id=s)},[(d(!0),i(p,null,_(u.units,s=>(d(),i("option",{key:s.id,value:s.unitid},r(s.unitname),9,Z))),128))],512),[[g,a(l).unit_id]]),e("div",ee,[e("div",te,[se,le,h(e("select",{name:"",id:"",class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-2 py-2 pr-6 rounded shadow leading-tight focus:outline-none focus:shadow-outline","onUpdate:modelValue":o[2]||(o[2]=s=>a(l).role_id=s)},[(d(!0),i(p,null,_(u.roles,s=>(d(),i("option",{key:s.id,value:s.id},r(s.label),9,oe))),128))],512),[[g,a(l).role_id]])]),re,(d(!0),i(p,null,_(u.user_status_list,s=>(d(),i("div",{key:s.id,class:"form-check"},[h(e("input",{type:"radio",id:"one",value:s.id,"onUpdate:modelValue":o[3]||(o[3]=U=>a(l).user_status=U),class:"form-check-input appearance-none rounded-full h-4 w-4 border border-gray-300 bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer"},null,8,ne),[[C,a(l).user_status]]),e("label",de,r(s.desc),1)]))),128))]),e("div",ae,[e("label",ie,"\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25:"+r(u.user.profile.user_name_in),1)]),e("div",ue,[e("button",{type:"submit",class:"w-full flex justify-center py-2 text-md bg-green-500 hover:bg-green-700 text-white border border-green-500 rounded",onClick:o[4]||(o[4]=s=>j())}," \u0E41\u0E01\u0E49\u0E44\u0E02 "),w(a(E),{href:t.route("user-add"),class:"w-full flex justify-center my-2 py-2 text-md bg-blue-500 hover:bg-blue-700 text-white border border-blue-500 rounded"},{default:c(()=>[m(" \u0E01\u0E25\u0E31\u0E1A ")]),_:1},8,["href"])])])]),w(A,{isModalOpen:f.value},{header:c(()=>[ce]),body:c(()=>[e("div",fe,[e("label",me," \u0E0A\u0E37\u0E48\u0E2D: "+r(u.user.name),1),e("label",he," \u0E2B\u0E19\u0E48\u0E27\u0E22/\u0E2A\u0E32\u0E02\u0E32: "+r(k()),1),e("label",be," \u0E2A\u0E34\u0E17\u0E18\u0E34\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E23\u0E30\u0E1A\u0E1A: "+r(v()),1),e("label",_e," \u0E2A\u0E16\u0E32\u0E19\u0E30: "+r(x(a(l).user_status)),1)])]),footer:c(()=>[e("div",{class:"w-full text-center md:block"},[e("button",{class:"mx-4 md:mb-0 bg-green-600 px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-white rounded-full hover:shadow-lg hover:bg-green-400",onClick:L}," \u0E15\u0E01\u0E25\u0E07 "),e("button",{class:"mx-4 md:mb-0 bg-red-500 border border-red-500 px-5 py-2 text-sm shadow-sm font-medium tracking-wider text-white rounded-full hover:shadow-lg hover:bg-red-600",onClick:y}," \u0E22\u0E01\u0E40\u0E25\u0E34\u0E01 ")])]),_:1},8,["isModalOpen"])]),_:1}))}};export{ye as default};
