import{u as w,h as g,i as v,j as k,f as h,c as n,k as i,a as e,o as l,d as a,t,F as y,g as j,w as b,e as p,v as x}from"./app-3-81Xgwv.js";import{A as L}from"./AppLayout-CpSAxy21.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Navbar-SH8ePkG9.js";const _={key:0,class:"alert-banner fixed right-0 m-2 w-5/6 md:w-full max-w-sm"},B={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-green-300 shadow-xs rounded-md text-green-800 font-bold",title:"close",for:"banneralert"},C={key:1,class:"alert-banner fixed right-0 m-2 w-5/6 md:w-full max-w-sm"},V={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-red-700 shadow-xs rounded-md text-white font-bold",title:"close",for:"banneralert"},M={class:"bg-pink-50"},N={class:"w-full flex justify-center font-bold"},$={class:"w-full flex justify-between p-2 my-2 border-b-2 border-gray-600 font-bold"},A={key:0,class:"flex justify-center text-green-700 text-lg"},F={class:"flex"},O={class:"font-bold"},U={class:"font-bold text-green-600 mx-4"},q={class:"flex flex-row"},z={class:"font-bold text-red-500 mx-4"},D={class:"flex flex-row"},H={class:"font-bold text-green-600 mx-4"},I={key:0,class:"flex flex-row"},S={class:"font-bold text-blue-600 mx-4"},T={key:1,class:"flex flex-col lg:flex-row mb-2 text-md font-bold text-gray-900"},E={class:"m-2"},P=["onUpdate:modelValue"],R={class:"m-2"},G=["onUpdate:modelValue"],J={key:2,class:"w-full flex justify-center"},Y={__name:"ReceiveOrder",props:{order:{type:Object,required:!0},old_items_sum:{type:Object,required:!0},stockname:{type:String,required:!0}},setup(o){const d=w({date_receive:[],date_expire:[],order_id:null});g(()=>{d.order_id=v().props.order.id});const c=()=>{console.log("CF order"),d.post(route("checkin-order"),{})};return(f,s)=>(l(),k(L,null,{default:h(()=>[f.$page.props.flash.status==="success"?(l(),n("div",_,[s[2]||(s[2]=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1)),e("label",B,[a(t(f.$page.props.flash.msg)+" ",1),s[1]||(s[1]=e("svg",{class:"fill-current text-white",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1))])])):i("",!0),f.$page.props.errors.error?(l(),n("div",C,[s[4]||(s[4]=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1)),e("label",V,[a(t(f.$page.props.errors.error)+" ",1),s[3]||(s[3]=e("svg",{class:"fill-current text-white",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1))])])):i("",!0),e("div",M,[s[6]||(s[6]=e("div",{class:"w-full flex justify-center font-bold"},"บันทึกการตรวจรับวัสดุจากใบสัญญาสั่งซื้อ",-1)),e("div",N,t(o.stockname),1),e("div",$,[e("div",null,"เลขที่ใบสั่งซื้อ:"+t(o.order.order_no)+"/"+t(o.order.year),1),o.order.status==="checkin"?(l(),n("div",A,[...s[5]||(s[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})],-1),a(" ตรวจรับวัสดุเรียบร้อยแล้ว ",-1)])])):i("",!0),e("div",null,"วันที่อนุมัติ:"+t(o.order.timeline.approve_datetime)+" น.",1)])]),(l(!0),n(y,null,j(o.order.items,(r,u)=>(l(),n("div",{key:u,class:"w-full flex flex-col p-2 my-2 space-y-2 bg-pink-100 border-2 border-gray-500 rounded-xs"},[e("div",F,[e("span",O,t(u+1)+". "+t(r[0].sap)+"-"+t(r[0].item_name),1),s[7]||(s[7]=e("span",{class:"font-bold mx-2"}," จำนวนสั่งซื้อ: ",-1)),e("span",U,t(r[0].order_input),1),s[8]||(s[8]=e("span",{class:"font-bold"},"ชิ้น",-1))]),e("div",q,[s[9]||(s[9]=e("span",{class:"font-bold"}," จำนวนก่อนสั่งซื้อ: ",-1)),e("span",z,t(o.order.timeline.item_sum_before_order[u]),1),s[10]||(s[10]=e("span",{class:"font-bold"},"ชิ้น",-1))]),e("div",D,[s[11]||(s[11]=e("span",{class:"font-bold"}," จำนวนคงเหลือปัจจุบัน: ",-1)),e("span",H,t(o.old_items_sum[u]),1),s[12]||(s[12]=e("span",{class:"font-bold"},"ชิ้น",-1))]),o.order.status!=="checkin"?(l(),n("div",I,[s[13]||(s[13]=e("span",{class:"font-bold"}," จำนวนรวมหลังตรวจรับ: ",-1)),e("span",S,t(parseInt(r[0].order_input)+parseInt(o.old_items_sum[u])),1),s[14]||(s[14]=e("span",{class:"font-bold"},"ชิ้น",-1))])):i("",!0),e("div",null,[s[15]||(s[15]=e("span",{class:"inline-block font-bold"}," บริษัทผู้ขาย:",-1)),a(" "+t(r[0].business_name),1)]),e("div",null,[s[16]||(s[16]=e("span",{class:"inline-block font-bold"}," Cat.No/Lot.No:",-1)),a(" "+t(r[0].catalog_number)+"/"+t(r[0].lot_number),1)]),o.order.status!=="checkin"?(l(),n("div",T,[e("div",E,[s[17]||(s[17]=e("label",{for:""},"วันที่รับเข้า:",-1)),b(e("input",{type:"date",name:"",id:"","onUpdate:modelValue":m=>p(d).date_receive[r[0].id]=m,class:"w-full px-12 py-2 border-2 rounded-md appearance-none focus:border-indigo-600 focus:ring-3 focus:ring-black/50 focus:ring-indigo-500"},null,8,P),[[x,p(d).date_receive[r[0].id]]])]),e("div",R,[s[18]||(s[18]=e("label",{for:""},"วันที่หมดอายุ:",-1)),b(e("input",{type:"date",name:"",id:"","onUpdate:modelValue":m=>p(d).date_expire[r[0].id]=m,class:"w-full px-12 py- border-2 rounded-md appearance-none focus:border-indigo-600 focus:ring-3 focus:ring-black/50 focus:ring-indigo-500"},null,8,G),[[x,p(d).date_expire[r[0].id]]])])])):i("",!0)]))),128)),o.order.status==="approve"?(l(),n("div",J,[e("button",{onClick:s[0]||(s[0]=r=>c(o.order.id)),class:"flex flex-row text-md py-1 px-6 ml-3 bg-green-500 hover:bg-green-700 text-white text-center border border-green-500 rounded-xs"},[...s[19]||(s[19]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 4H6a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-2m-4-1v8m0 0l3-3m-3 3L9 8m-5 5h2.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293h3.172a1 1 0 00.707-.293l2.414-2.414a1 1 0 01.707-.293H20"})],-1),a(" ตรวจรับวัสดุ ",-1)])])])):i("",!0)]),_:1}))}};export{Y as default};
