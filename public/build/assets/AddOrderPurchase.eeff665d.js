import{u as T,r as u,o as n,c as a,a as e,w as f,v as b,b as s,n as w,d as B,e as p,F as z,f as U,g as M,t as l,h as H,i as m,j as q,k as v,l as G}from"./app.0ef34fd1.js";import{A as J}from"./AppLayout.56fccf24.js";import{_ as A}from"./ModalUpToYou.3d6be866.js";import"./_plugin-vue_export-helper.cdc0426e.js";const K={class:"my-2 p-2 bg-blue-100 rounded-md"},Q=e("label",{class:"text-lg font-bold text-red-600"},"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E27\u0E31\u0E2A\u0E14\u0E38\u0E43\u0E2B\u0E49\u0E04\u0E23\u0E1A\u0E01\u0E48\u0E2D\u0E19\u0E01\u0E14\u0E1B\u0E38\u0E48\u0E21\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E43\u0E1A\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E37\u0E49\u0E2D:",-1),R=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1),W=M(" \u0E04\u0E49\u0E19\u0E2B\u0E32\u0E27\u0E31\u0E2A\u0E14\u0E38 "),X=[R,W],Y={class:"w-full block"},Z=e("label",null,"\u0E0A\u0E37\u0E48\u0E2D\u0E1A\u0E23\u0E34\u0E29\u0E31\u0E17\u0E1C\u0E39\u0E49\u0E02\u0E32\u0E22:",-1),ee=e("label",null,"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23:",-1),te=e("label",null,"Material:",-1),oe=e("label",null,"\u0E08\u0E33\u0E19\u0E27\u0E19:",-1),se=e("label",null,"\u0E2B\u0E19\u0E48\u0E27\u0E22:",-1),le=e("label",null,"\u0E23\u0E32\u0E04\u0E32/\u0E2B\u0E19\u0E48\u0E27\u0E22:",-1),re=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),ne=M(" \u0E40\u0E1E\u0E34\u0E48\u0E21\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 "),de=[re,ne],ae=e("p",{class:"text-md font-bold text-blue-800"},"\u0E04\u0E49\u0E19\u0E2B\u0E32\u0E27\u0E31\u0E2A\u0E14\u0E38 ",-1),ie=e("p",{class:"text-sm font-bold text-red-600"},"***\u0E1E\u0E34\u0E21\u0E1E\u0E4C\u0E0A\u0E37\u0E48\u0E2D\u0E27\u0E31\u0E2A\u0E14\u0E38\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22 3 \u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",-1),ue={class:"w-full flex text-gray-900 text-md font-medium dark:text-white"},ce={class:"w-3/4"},_e=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),pe=M(" \u0E04\u0E49\u0E19\u0E2B\u0E32 "),he=[_e,pe],me={class:"bg-blue-50"},ve={key:0},fe=e("p",null,"\u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E0A\u0E37\u0E48\u0E2D\u0E27\u0E31\u0E2A\u0E14\u0E38\u0E17\u0E35\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E04\u0E49\u0E19\u0E2B\u0E32",-1),be=[fe],ge={key:1},we={key:0},xe={key:1},ke=["onClick"],ye={name:"PurchaseItem",emits:["previewOrder"],setup(x,{emit:S}){const o=T({item_name_search:"",stock_items:Array,preview_orders:Array}),y=u(0),j=u(!1),L=u(!1),h=u(!1),k=u(!1),$=u(!1),O=u(!1),C=u(!1),t=u(!1),P=()=>{o.item_name_search="",o.stock_items="",t.value=!0},F=()=>{t.value=!1},I=()=>{if(o.item_name_search.length<3)return C.value=!0,!1;axios.get(route("search-stock-item",{item_name_search:o.item_name_search})).then(_=>{o.stock_items=_.data.items})},N=_=>{o.item=_.item_name,o.material=_.item_code,_.profile!=null?o.business=_.profile.business_name:o.business="",o.unit_price=_.price,o.unit_count=_.unit_count.countname,o.unit_purchase=0,t.value=!1},E=()=>{if(o.business.length==0)return j.value=!0,!1;if(j.value=!1,o.item.length==0)return L.value=!0,!1;if(L.value=!1,o.material.length==0)return h.value=!0,!1;if(h.value=!1,o.unit_purchase==0)return O.value=!0,!1;if(O.value=!1,o.unit_count.length==0)return k.value=!0,!1;if(k.value=!1,o.unit_price==0)return $.value=!0,!1;$.value=!1,o.preview_orders=[],y.value=o.unit_purchase*o.unit_price;let _=y.value.toFixed(2);o.preview_orders.push({item_name:o.item,material:o.material,order_input:o.unit_purchase,unit_count:o.unit_count,price:o.unit_price,business_name:o.business,total:_}),S("previewOrder",o.preview_orders)};return(_,c)=>(n(),a("div",K,[e("div",{class:"w-full flex justify-between"},[Q,e("button",{class:"flex p-2 justify-center mx-4 md:mb-0 bg-green-600 px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-white rounded-full hover:shadow-lg hover:bg-green-400",onClick:P},X)]),e("div",Y,[Z,f(e("input",{type:"text",name:"",id:"","onUpdate:modelValue":c[0]||(c[0]=i=>s(o).business=i),class:w(["w-full py-2 rounded-md appearance-none focus:border-indigo-600",[j.value?"border-red-500 border-2 ":"border-gray-500"]])},null,2),[[b,s(o).business]]),ee,f(e("input",{type:"text",name:"",id:"","onUpdate:modelValue":c[1]||(c[1]=i=>s(o).item=i),class:w(["w-full py-2 rounded-md appearance-none focus:border-indigo-600",[L.value?"border-red-500 border-2 ":"border-gray-500"]])},null,2),[[b,s(o).item]]),te,f(e("input",{type:"text",name:"",id:"","onUpdate:modelValue":c[2]||(c[2]=i=>s(o).material=i),class:w(["w-full py-2 rounded-md appearance-none focus:border-indigo-600",[h.value?"border-red-500 border-2 ":"border-gray-500"]])},null,2),[[b,s(o).material]]),oe,f(e("input",{type:"number",name:"",id:"","onUpdate:modelValue":c[3]||(c[3]=i=>s(o).unit_purchase=i),class:w(["w-full py-2 rounded-md appearance-none focus:border-indigo-600",[O.value?"border-red-500 border-2 ":"border-gray-500"]])},null,2),[[b,s(o).unit_purchase]]),se,f(e("input",{type:"text",name:"",id:"","onUpdate:modelValue":c[4]||(c[4]=i=>s(o).unit_count=i),class:w(["w-full py-2 rounded-md appearance-none focus:border-indigo-600",[k.value?"border-red-500 border-2 ":"border-gray-500"]])},null,2),[[b,s(o).unit_count]]),le,f(e("input",{type:"number",name:"",id:"","onUpdate:modelValue":c[5]||(c[5]=i=>s(o).unit_price=i),class:w(["w-full py-2 rounded-md appearance-none focus:border-indigo-600",[$.value?"border-red-500 border-2 ":"border-gray-500"]])},null,2),[[b,s(o).unit_price]])]),e("div",{class:"m-2 p-2"},[e("button",{class:"w-full flex p-2 justify-center text-sm text-white bg-blue-600 rounded-md hover:bg-blue-400 focus:outline-none",onClick:E},de)]),B(A,{isModalOpen:t.value,modalSize:"large"},{header:p(()=>[ae]),body:p(()=>[ie,e("div",ue,[e("div",ce,[f(e("input",{type:"text","onUpdate:modelValue":c[6]||(c[6]=i=>s(o).item_name_search=i),name:"",id:"",placeholder:"\u0E1E\u0E34\u0E21\u0E1E\u0E4C\u0E0A\u0E37\u0E48\u0E2D\u0E27\u0E31\u0E2A\u0E14\u0E38\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22 3 \u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",class:w(["w-full py-2 rounded-md appearance-none focus:border-indigo-600",[C.value?"border-red-500 border-2 ":"border-gray-500"]])},null,2),[[b,s(o).item_name_search]])]),e("div",{class:"w-1/4 ml-2"},[e("button",{class:"w-full flex p-2 justify-center text-sm text-white bg-blue-600 rounded-md hover:bg-blue-400 focus:outline-none",onClick:I},he)])]),e("div",me,[s(o).stock_items.length==0?(n(),a("div",ve,be)):(n(),a("div",ge,[(n(!0),a(z,null,U(s(o).stock_items,(i,d)=>(n(),a("div",{class:"w-full justify-between mt-2 border-b-2 border-blue-800",key:i.id},[M(l(d+1)+". "+l(i.item_name)+" ("+l(i.item_code)+") \u0E23\u0E32\u0E04\u0E32 "+l(i.price)+" / "+l(i.unit_count.countname)+" ",1),i.profile?(n(),a("label",xe,"["+l(i.profile.business_name)+"]",1)):(n(),a("label",we," [\u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E0A\u0E37\u0E48\u0E2D\u0E1A\u0E23\u0E34\u0E29\u0E31\u0E17]")),e("button",{class:"mx-2 px-2 justify-center text-sm text-white bg-green-700 rounded-md hover:bg-green-400 focus:outline-none",onClick:g=>N(i)}," \u0E40\u0E25\u0E37\u0E2D\u0E01 ",8,ke)]))),128))]))])]),footer:p(()=>[e("div",{class:"w-full text-center md:block"},[e("button",{class:"mx-4 md:mb-0 bg-blue-700 px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-white rounded-full hover:shadow-lg hover:bg-green-400",onClick:F}," \u0E1B\u0E34\u0E14 ")])]),_:1},8,["isModalOpen"])]))}},$e={class:"w-full p-2"},Ce={key:0},Me=e("h1",{class:"text-center font-bold text-lg"},"\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E43\u0E1A\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E37\u0E49\u0E2D(\u0E40\u0E01\u0E48\u0E32)",-1),je=[Me],Le={key:1},Oe=e("h1",{class:"text-center font-bold text-lg"},"\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E40\u0E2D\u0E01\u0E2A\u0E32\u0E23\u0E43\u0E1A\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E37\u0E49\u0E2D",-1),Ve=[Oe],Be={class:"p-2 bg-green-100 border-2 border-green-300 rounded-md"},Se={class:"flex justify-start"},ze={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-red-600",viewBox:"0 0 20 20",fill:"currentColor"},Ue=e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1),Ae=[Ue],Pe=e("label",null,"\u0E0A\u0E37\u0E48\u0E2D\u0E04\u0E25\u0E31\u0E07\u0E27\u0E31\u0E2A\u0E14\u0E38:",-1),Fe=["value"],Ie={class:"my-2"},Ne={class:"flex justify-start"},Ee={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-red-600",viewBox:"0 0 20 20",fill:"currentColor"},Te=e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1),De=[Te],He=e("label",null,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E37\u0E49\u0E2D:",-1),qe={class:"my-2"},Ge={class:"flex justify-start"},Je={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-red-600",viewBox:"0 0 20 20",fill:"currentColor"},Ke=e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1),Qe=[Ke],Re=e("label",null,"\u0E0A\u0E37\u0E48\u0E2D\u0E42\u0E04\u0E23\u0E07\u0E01\u0E32\u0E23:",-1),We={class:"my-2"},Xe={class:"flex justify-start"},Ye={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-red-600",viewBox:"0 0 20 20",fill:"currentColor"},Ze=e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1),et=[Ze],tt=e("label",null,"\u0E43\u0E0A\u0E49\u0E07\u0E1A\u0E1B\u0E23\u0E30\u0E21\u0E32\u0E13(\u0E1A\u0E32\u0E17):",-1),ot={key:0,class:"p-2 border-2 border-green-600 rounded-md"},st=["onClick"],lt=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),rt=[lt],nt={class:"pl-4"},dt={key:1,class:"p-2 border-2 border-green-600 rounded-md"},at=e("label",{class:"font-bold"},"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E27\u0E31\u0E2A\u0E14\u0E38\u0E17\u0E35\u0E48\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E37\u0E49\u0E2D:",-1),it=["onClick"],ut=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),ct=[ut],_t={class:"pl-4"},pt={key:2,class:"mt-2"},ht=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),mt={key:0},vt={key:1},ft=e("p",{class:"text-md font-bold text-red-600"},"\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E01\u0E32\u0E23\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E37\u0E49\u0E2D\u0E43\u0E0A\u0E48\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?",-1),bt={class:"text-gray-900 text-md font-medium dark:text-white"},gt={for:""},wt={for:""},xt={for:""},kt={key:0},yt={for:""},$t={key:1},Ct={for:""},Mt=e("p",{class:"text-md font-bold text-red-600"},"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E2D\u0E48\u0E32\u0E19 ",-1),jt={class:"w-full flex flex-col text-gray-900 text-md font-medium dark:text-white"},Lt={for:""},Ot=e("p",{class:"text-md font-bold text-red-600"},"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E2D\u0E48\u0E32\u0E19: ",-1),Vt=e("div",{class:"w-full flex flex-col text-gray-900 text-md font-medium dark:text-white"},[e("div",{for:""},[e("label",{for:""},"\u0E41\u0E01\u0E49\u0E44\u0E02\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08")])],-1),At={name:"AddOrderPurchase",props:{stocks:{type:Object,required:!0},order_purchase:{type:Object},action:{type:String,required:!0}},setup(x){const S=x,o=u(!1),y=u(!1),j=u(!1),L=u(!1),h=u(""),k=u(!1),$=u(!1),O=u(""),C=u(!1),t=T({date_purchase:"",stock_select:"",preview_orders:[],total_budget:0,project_name:"\u0E02\u0E2D\u0E2D\u0E19\u0E38\u0E21\u0E31\u0E15\u0E34\u0E08\u0E31\u0E14\u0E08\u0E49\u0E32\u0E07\u0E0B\u0E37\u0E49\u0E2D\u0E27\u0E31\u0E2A\u0E14\u0E38\u0E17\u0E32\u0E07\u0E01\u0E32\u0E23\u0E41\u0E1E\u0E17\u0E22\u0E4C \u0E27\u0E31\u0E2A\u0E14\u0E38\u0E27\u0E34\u0E17\u0E22\u0E32\u0E28\u0E32\u0E2A\u0E15\u0E23\u0E4C \u0E2A\u0E32\u0E23\u0E40\u0E04\u0E21\u0E35 \u0E19\u0E49\u0E33\u0E22\u0E32\u0E17\u0E14\u0E2A\u0E2D\u0E1A \u0E41\u0E25\u0E30\u0E27\u0E31\u0E2A\u0E14\u0E38\u0E2D\u0E37\u0E48\u0E19\u0E46 \u0E42\u0E14\u0E22\u0E27\u0E34\u0E18\u0E35\u0E40\u0E09\u0E1E\u0E32\u0E30\u0E40\u0E08\u0E32\u0E30\u0E08\u0E07",order_purchase_id:0});console.log(`{stockid:${S.stocks[0].id},stockname:${S.stocks[0].stockname}}`),H(()=>{console.log("onMounted"),m().props.value.stocks.length==1&&(t.stock_select=m().props.value.stocks[0].id,console.log(t.stock_select)),console.log(m().props.value.action),m().props.value.action=="edit"&&(t.preview_orders.push(m().props.value.order_purchase.items),console.log(t.preview_orders[0].length),O.value=t.preview_orders[0].length,h.value=m().props.value.order_purchase.budget,t.total_budget=m().props.value.order_purchase.budget,console.log(t.total_budget),t.project_name=m().props.value.order_purchase.project_name,t.date_purchase=m().props.value.order_purchase.date_order,t.order_purchase_id=m().props.value.order_purchase.id)});const P=d=>{console.log("Parent getOrder  item----->"),console.log(d[0].total),console.log(t.total_budget),t.total_budget+=Number(d[0].total),h.value=t.total_budget.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),console.log(h.value),m().props.value.action=="edit"?t.preview_orders[0].push(d):t.preview_orders.push(d),console.log(t.preview_orders.length)},F=d=>{t.total_budget-=Number(t.preview_orders[d][0].total),t.preview_orders.splice(d,1)},I=d=>{console.log("removeEdit"),console.log(d),console.log(t.preview_orders[0][d]),console.log(t.preview_orders[0][d][0].total),t.total_budget=t.total_budget-Number(t.preview_orders[0][d][0].total),console.log(t.total_budget),h.value=t.total_budget.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),t.preview_orders[0].splice(d,1)},N=()=>{if(console.log(t.stock_select),console.log("stock id="+t.stock_select.stockid),t.stock_select==0||t.stock_select==null)return o.value=!0,!1;if(o.value=!1,t.date_purchase.length==0)return y.value=!0,!1;y.value=!1,k.value=!0},E=()=>{k.value=!1,m().props.value.action=="add"?(t.post(route("store-purchase"),{preserveState:!0,preserveScroll:!0,onSuccess:d=>{console.log("success"),t.date_purchase="",t.preview_orders=[],h.value="",t.total_budget=0},onError:d=>{},onFinish:d=>{}}),$.value=!0):(console.log("okConfirmAddPurchase edit"),t.post(route("edit-purchase"),{preserveState:!0,preserveScroll:!0,onSuccess:d=>{console.log("success"),C.value=!0},onError:d=>{},onFinish:d=>{}}))},_=()=>{k.value=!1},c=()=>{$.value=!1},i=()=>{C.value=!1};return(d,g)=>(n(),q(J,null,{default:p(()=>[e("div",$e,[d.$page.props.auth.user.profile.division_id==27?(n(),a("div",Ce,je)):v("",!0),d.$page.props.auth.user.profile.division_id<19?(n(),a("div",Le,Ve)):v("",!0),e("div",Be,[e("div",null,[e("div",Se,[o.value?(n(),a("svg",ze,Ae)):v("",!0),Pe]),f(e("select",{"onUpdate:modelValue":g[0]||(g[0]=r=>s(t).stock_select=r),class:w(["block appearance-none w-full bg-white border focus:border-indigo-600 rounded-md",[o.value?"border-red-500 border-3 ":"border-gray-500"]])},[(n(!0),a(z,null,U(x.stocks,r=>(n(),a("option",{key:r.id,value:r.id},l(r.stockname),9,Fe))),128))],2),[[G,s(t).stock_select]])]),e("div",Ie,[e("div",Ne,[y.value?(n(),a("svg",Ee,De)):v("",!0),He]),f(e("input",{type:"date",name:"",id:"","onUpdate:modelValue":g[1]||(g[1]=r=>s(t).date_purchase=r),class:w(["w-full py-2 rounded-md appearance-none focus:border-indigo-600",[y.value?"border-red-500 border-2 ":"border-gray-500"]])},null,2),[[b,s(t).date_purchase]])]),e("div",qe,[e("div",Ge,[L.value?(n(),a("svg",Je,Qe)):v("",!0),Re]),f(e("input",{type:"text",name:"",id:"","onUpdate:modelValue":g[2]||(g[2]=r=>s(t).project_name=r),class:"w-full py-2 rounded-md"},null,512),[[b,s(t).project_name]])]),e("div",We,[e("div",Xe,[j.value?(n(),a("svg",Ye,et)):v("",!0),tt]),f(e("input",{type:"text",name:"",id:"","onUpdate:modelValue":g[3]||(g[3]=r=>h.value=r),class:"w-full py-2 bg-gray-300 rounded-md",readonly:""},null,512),[[b,h.value]])]),x.action=="edit"?(n(),a("div",ot,[(n(!0),a(z,null,U(s(t).preview_orders[0],(r,V)=>(n(),a("div",{key:r.id,class:"bg-white my-2"},[e("div",null,[M(l(V+1)+". "+l(r[0].item_name)+" ("+l(r[0].material)+") \u0E1A\u0E23\u0E34\u0E29\u0E31\u0E17 "+l(r[0].business_name)+" ",1),e("button",{class:"p-1 bg-red-600 text-white rounded-full",onClick:D=>I(V)},rt,8,st)]),e("div",nt," \u0E08\u0E33\u0E19\u0E27\u0E19 "+l(r[0].order_old_input)+" "+l(r[0].unit_count)+" x "+l(r[0].price)+" \u0E23\u0E32\u0E04\u0E32\u0E23\u0E27\u0E21 "+l(r[0].total)+" \u0E1A\u0E32\u0E17 ",1)]))),128))])):v("",!0),s(t).preview_orders.length!=0&&x.action=="add"?(n(),a("div",dt,[at,(n(!0),a(z,null,U(s(t).preview_orders,(r,V)=>(n(),a("div",{key:r.id,class:"bg-white my-2"},[e("div",null,[M(l(V+1)+". "+l(r[0].item_name)+" ("+l(r[0].material)+") \u0E1A\u0E23\u0E34\u0E29\u0E31\u0E17 "+l(r[0].business_name)+" ",1),e("button",{class:"p-1 bg-red-600 text-white rounded-full",onClick:D=>F(V)},ct,8,it)]),e("div",_t," \u0E08\u0E33\u0E19\u0E27\u0E19 "+l(r[0].order_input)+" "+l(r[0].unit_count)+" x "+l(r[0].price)+" \u0E23\u0E32\u0E04\u0E32\u0E23\u0E27\u0E21 "+l(r[0].total)+" \u0E1A\u0E32\u0E17 ",1)]))),128))])):v("",!0),s(t).preview_orders.length!=0?(n(),a("div",pt,[e("button",{class:"w-full flex justify-center bg-green-600 py-2 text-md shadow-sm font-medium border text-white rounded-md hover:shadow-lg hover:bg-green-400",onClick:N},[ht,x.action=="add"?(n(),a("label",mt,"\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E43\u0E1A\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E37\u0E49\u0E2D")):(n(),a("label",vt,"\u0E41\u0E01\u0E49\u0E44\u0E02\u0E43\u0E1A\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E37\u0E49\u0E2D"))])])):v("",!0)]),B(ye,{onPreviewOrder:P}),B(A,{isModalOpen:k.value},{header:p(()=>[ft]),body:p(()=>[e("div",bt,[e("div",null,[e("label",gt,l(s(t).stock_select.stockname),1)]),e("div",null,[e("label",wt,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E37\u0E49\u0E2D: "+l(s(t).date_purchase),1)]),e("div",null,[e("label",xt,"\u0E23\u0E32\u0E04\u0E32\u0E23\u0E27\u0E21: "+l(h.value)+" \u0E1A\u0E32\u0E17",1)]),x.action=="add"?(n(),a("div",kt,[e("label",yt,"\u0E08\u0E33\u0E19\u0E27\u0E19: "+l(s(t).preview_orders.length)+" \u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",1)])):v("",!0),x.action=="edit"&&s(t).preview_orders!=""?(n(),a("div",$t,[e("label",Ct,"\u0E08\u0E33\u0E19\u0E27\u0E19: "+l(s(t).preview_orders[0].length)+" \u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",1)])):v("",!0)])]),footer:p(()=>[e("div",{class:"w-full text-center md:block"},[e("button",{class:"mx-4 md:mb-0 bg-green-600 px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-white rounded-full hover:shadow-lg hover:bg-green-400",onClick:E}," \u0E15\u0E01\u0E25\u0E07 "),e("button",{class:"mx-4 md:mb-0 bg-red-500 border border-red-500 px-5 py-2 text-sm shadow-sm font-medium tracking-wider text-white rounded-full hover:shadow-lg hover:bg-red-600",onClick:_}," \u0E22\u0E01\u0E40\u0E25\u0E34\u0E01 ")])]),_:1},8,["isModalOpen"]),B(A,{isModalOpen:$.value},{header:p(()=>[Mt]),body:p(()=>[e("div",jt,[e("div",Lt,l(d.$page.props.flash.status)+":"+l(d.$page.props.flash.msg),1)])]),footer:p(()=>[e("div",{class:"w-full text-center md:block"},[e("button",{class:"mx-4 md:mb-0 bg-green-600 px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-white rounded-full hover:shadow-lg hover:bg-green-400",onClick:c}," \u0E15\u0E01\u0E25\u0E07 ")])]),_:1},8,["isModalOpen"]),B(A,{isModalOpen:C.value},{header:p(()=>[Ot]),body:p(()=>[Vt]),footer:p(()=>[e("div",{class:"w-full text-center md:block"},[e("button",{class:"mx-4 md:mb-0 bg-green-600 px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-white rounded-full hover:shadow-lg hover:bg-green-400",onClick:i}," \u0E15\u0E01\u0E25\u0E07 ")])]),_:1},8,["isModalOpen"])])]),_:1}))}};export{At as default};
