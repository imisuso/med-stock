import{u as M,r as _,o as s,j,e as b,c as r,a as e,g as c,t as l,k as n,b as h,d as f,f as L,F as C,L as $}from"./app.db9daac3.js";import{A as O}from"./AppLayout.e72c942b.js";import{_ as D}from"./ModalUpToYou.8d86a954.js";import{_ as S}from"./PaginateMe.d29cbce5.js";import{d as m,b as V}from"./buddhistEra.95fed84f.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Navbar.6593acec.js";const A={key:0,class:"alert-banner fixed right-0 m-2 w-5/6 md:w-full max-w-sm"},F=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1),H={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-green-300 shadow rounded-md text-green-800 font-bold",title:"close",for:"banneralert"},I=e("svg",{class:"fill-current text-white",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),N={key:1,class:"alert-banner fixed right-0 m-2 w-5/6 md:w-full max-w-sm"},q=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1),E={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-red-300 shadow rounded-md text-red-800 font-bold",title:"close",for:"banneralert"},P=e("svg",{class:"fill-current text-white",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),z={key:2,class:"bg-blue-800 text-white text-xl text-center"},T={class:"w-full mt-3 p-2"},G={class:"w-full bg-purple-100 mt-3 border-2 border-purple-300 rounded-lg lg:max-w-full lg:flex"},J=e("div",{class:"flex flex-col items-center overflow-hidden text-center bg-cover rounded-t lg:h-auto lg:w-36 lg:rounded-t-none lg:rounded-l"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-20 w-20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1),K={class:"w-full leading-normal border-b border-l border-r border-gray-200 rounded-b lg:border-l-0 lg:border-t lg:border-gray-200 lg:rounded-b-none lg:rounded-r"},Q={class:"mb-2"},R={class:"p-2 text-md font-bold text-gray-900"},U={for:"",class:"text-blue-600"},W={key:0,class:"flex flex-col lg:flex-col mb-2 text-md font-bold text-gray-900"},X={class:"flex ml-2"},Y=c(" \u0E08\u0E33\u0E19\u0E27\u0E19\u0E04\u0E07\u0E40\u0E2B\u0E25\u0E37\u0E2D : "),Z={class:"ml-2 text-red-600"},ee={class:"flex ml-2"},te=c(" Pur.Order : "),oe={class:"ml-2 text-blue-600"},le={key:0,class:"flex ml-2"},se=c(" \u0E27\u0E31\u0E19\u0E2B\u0E21\u0E14\u0E2D\u0E32\u0E22\u0E38 : "),re={class:"ml-2 text-blue-600"},de={key:1,class:"flex ml-2"},ne=c(" \u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E23\u0E31\u0E1A\u0E40\u0E02\u0E49\u0E32 : "),ce={class:"ml-2 text-blue-600"},ae=e("label",{for:"",class:"text-red-600 text-sm"}," *\u0E25\u0E1A\u0E44\u0E14\u0E49\u0E40\u0E09\u0E1E\u0E32\u0E30\u0E1C\u0E49\u0E39\u0E17\u0E35\u0E48\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E19\u0E35\u0E49\u0E40\u0E17\u0E48\u0E32\u0E19\u0E31\u0E49\u0E19",-1),ie=e("div",{class:"flex"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-green-800 bg-green-100 rounded-full",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})]),e("label",{for:"",class:"text-sm"}," \u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E01\u0E32\u0E23\u0E23\u0E31\u0E1A\u0E27\u0E31\u0E2A\u0E14\u0E38\u0E40\u0E02\u0E49\u0E32\u0E04\u0E25\u0E31\u0E07")],-1),be=e("div",{class:"flex"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-red-800 bg-red-100 rounded-full",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})]),e("label",{for:"",class:"text-sm"}," \u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E01\u0E32\u0E23\u0E40\u0E1A\u0E34\u0E01\u0E27\u0E31\u0E2A\u0E14\u0E38")],-1),he={key:3},me={class:"min-w-full border-collapse block md:table md:rounded-md"},ue=e("thead",{class:"block md:table-header-group"},[e("tr",{class:"border border-grey-500 md:border-none block md:table-row absolute -top-full md:top-auto -left-full md:left-auto md:relative"},[e("th",{class:"bg-blue-300 p-2 text-black font-bold md:border md:border-grey-300 text-left block md:table-cell md:rounded-lg"}," \u0E27\u0E31\u0E19\u0E17\u0E35\u0E48[Pur.Order]"),e("th",{class:"bg-blue-300 p-2 text-black font-bold md:border md:border-grey-300 text-left block md:table-cell md:rounded-lg"}," \u0E08\u0E33\u0E19\u0E27\u0E19[\u0E23\u0E32\u0E04\u0E32\u0E15\u0E48\u0E2D\u0E2B\u0E19\u0E48\u0E27\u0E22]"),e("th",{class:"bg-blue-300 p-2 text-black font-bold md:border md:border-grey-300 text-left block md:table-cell md:rounded-lg"}," \u0E1A\u0E23\u0E34\u0E29\u0E31\u0E17"),e("th",{class:"bg-blue-300 p-2 text-black font-bold md:border md:border-grey-300 text-left block md:table-cell md:rounded-lg"}," \u0E1C\u0E39\u0E49\u0E1B\u0E0E\u0E34\u0E1A\u0E31\u0E15\u0E34"),e("th",{class:"bg-blue-300 p-2 text-black font-bold md:border md:border-grey-300 text-left block md:table-cell md:rounded-lg"}," ::")])],-1),_e={class:"block md:table-row-group"},fe={class:"text-left block md:table-cell md:border-b-2 md:border-gray-300"},ge=e("span",{class:"inline-block w-1/3 md:hidden font-bold"},"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48",-1),ke={class:"inline-flex px-2 text-lg font-semibold leading-5"},we={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-green-800 bg-green-100 rounded-full",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},pe=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"},null,-1),xe=[pe],ve={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-red-800 bg-red-100 rounded-full",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ye=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"},null,-1),Be=[ye],Me={key:0},je={class:"text-left block md:table-cell md:border-b-2 md:border-gray-300"},Le=e("span",{class:"inline-block w-1/3 md:hidden font-bold"},"\u0E08\u0E33\u0E19\u0E27\u0E19[\u0E23\u0E32\u0E04\u0E32\u0E15\u0E48\u0E2D\u0E2B\u0E19\u0E48\u0E27\u0E22]",-1),Ce={key:0},$e={class:"text-left block md:table-cell md:border-b-2 md:border-gray-300"},Oe=e("span",{class:"inline-block w-1/3 md:hidden font-bold"},"\u0E1A\u0E23\u0E34\u0E29\u0E31\u0E17",-1),De={key:0,class:"text-sm"},Se={class:"text-left block md:table-cell md:border-b-2 md:border-gray-300"},Ve=e("span",{class:"inline-block w-1/3 md:hidden font-bold"},"\u0E1C\u0E39\u0E49\u0E1B\u0E0E\u0E34\u0E1A\u0E31\u0E15\u0E34",-1),Ae={class:"text-left text-sm block md:table-cell md:border-b-2 md:border-gray-300"},Fe=e("span",{class:"inline-block w-1/3 md:hidden font-bold"},"::",-1),He={key:0,for:""},Ie=["onClick"],Ne=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),qe=[Ne],Ee=["onClick"],Pe=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),ze=[Pe],Te=e("div",{class:"w-full flex justify-center my-2 py-2 text-md bg-blue-500 hover:bg-blue-700 text-white border border-blue-500 rounded"},[e("span",{class:"text-white ml-2"},"\u0E01\u0E25\u0E31\u0E1A")],-1),Ge=e("p",{class:"text-md font-bold text-blue-700"},"\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E25\u0E1A\u0E27\u0E31\u0E2A\u0E14\u0E38\u0E19\u0E35\u0E49\u0E2D\u0E2D\u0E01\u0E08\u0E32\u0E01\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E04\u0E25\u0E31\u0E07\u0E27\u0E31\u0E2A\u0E14\u0E38\u0E43\u0E0A\u0E48\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?",-1),Je={class:"text-gray-900 text-md font-medium"},Ke={class:"flex justify-start w-full text-md"},Qe={class:"flex justify-start w-full text-md"},Re=e("label",{class:"flex mt-4 text-red-600 justify-start w-full text-sm"}," ***\u0E04\u0E33\u0E40\u0E15\u0E37\u0E2D\u0E19:\u0E2B\u0E32\u0E01\u0E25\u0E1A\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E27\u0E31\u0E2A\u0E14\u0E38\u0E19\u0E35\u0E49 \u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E01\u0E32\u0E23\u0E15\u0E31\u0E14\u0E2A\u0E15\u0E4A\u0E2D\u0E01\u0E02\u0E2D\u0E07\u0E27\u0E31\u0E2A\u0E14\u0E38\u0E19\u0E35\u0E49\u0E08\u0E30\u0E16\u0E39\u0E01\u0E25\u0E1A\u0E44\u0E1B\u0E42\u0E14\u0E22\u0E2D\u0E31\u0E15\u0E42\u0E19\u0E21\u0E31\u0E15\u0E34\u0E14\u0E49\u0E27\u0E22 ",-1),ot={name:"ItemDetail",props:{stock_item:{type:Object,required:!0},stock:{type:Object,required:!0},item_trans:{type:Object},checkin_last:{type:Object},item_balance:{type:Number},count_name:String,can_abilities:{type:Object,required:!0},can:{type:Object,required:!0}},setup(d){m.extend(V);const i=M({item_tran_id:0}),u=_(!1),g=_(""),k=_(""),w=o=>o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),p=o=>{console.log("cancel checkout item="+o),i.item_tran_id=o,i.post(route("cancel-checkout-stock-item"),{preserveState:!1,preserveScroll:!0,onSuccess:a=>{},onError:a=>{console.log("error")},onFinish:a=>{}})},x=(o,a,t)=>{console.log("cancel_stock_item="+o),console.log("cancel_stock_item="+a),u.value=!0,g.value=a,k.value=t,i.item_tran_id=o},v=()=>{console.log("okconfirmDeleteItem"),u.value=!1,console.log(i.item_tran_id),i.post(route("cancel-checkin-stock-item"),{preserveState:!1,preserveScroll:!0,onSuccess:o=>{},onError:o=>{console.log("error")},onFinish:o=>{}})},y=()=>{console.log("cancelDeleteItem"),u.value=!1};return(o,a)=>(s(),j(O,null,{default:b(()=>[o.$page.props.flash.status=="success"?(s(),r("div",A,[F,e("label",H,[c(l(o.$page.props.flash.msg)+" ",1),I])])):n("",!0),o.$page.props.flash.status=="error"?(s(),r("div",N,[q,e("label",E,[c(l(o.$page.props.flash.msg)+" ",1),P])])):n("",!0),d.checkin_last?(s(),r("div",z,l(o.$page.props.stock.stockname),1)):n("",!0),e("div",T,[e("div",G,[J,e("div",K,[e("div",Q,[e("div",R,[c(" SAP:"+l(d.stock_item.item_code)+" ",1),e("label",U,l(d.stock_item.item_name),1),c(" (\u0E2B\u0E19\u0E48\u0E27\u0E22: "+l(d.count_name)+") ",1)]),d.checkin_last?(s(),r("div",W,[e("div",X,[Y,e("p",Z,l(w(d.item_balance)),1)]),e("div",ee,[te,e("p",oe,l(d.checkin_last.pur_order),1)]),d.checkin_last?(s(),r("div",le,[se,e("p",re,l(h(m)(d.checkin_last.date_expire).locale("th").format("D MMMM BBBB")),1)])):n("",!0),d.checkin_last?(s(),r("div",de,[ne,e("p",ce,l(h(m)(d.checkin_last.date_action).locale("th").format("D MMMM BBBB")),1)])):n("",!0)])):n("",!0)])])])]),ae,ie,be,d.item_trans?(s(),r("div",he,[f(S,{pagination:d.item_trans},null,8,["pagination"])])):n("",!0),e("table",me,[ue,e("tbody",_e,[(s(!0),r(C,null,L(d.item_trans.data,t=>(s(),r("tr",{key:t.id,class:"bg-white my-2 p-2 mb-2 border-2 rounded-md border-gray-500 block md:border-none md:table-row"},[e("td",fe,[ge,e("span",ke,[t.action=="checkin"?(s(),r("svg",we,xe)):n("",!0),t.action=="checkout"?(s(),r("svg",ve,Be)):n("",!0)]),c(l(h(m)(t.date_action).locale("th").format("D MMM BBBB"))+" ",1),t.action=="checkin"?(s(),r("label",Me," ["+l(t.pur_order)+"]",1)):n("",!0)]),e("td",je,[Le,c(" "+l(t.item_count)+" ",1),t.action=="checkin"?(s(),r("label",Ce," ["+l(t.price)+"]",1)):n("",!0)]),e("td",$e,[Oe,t.action=="checkin"?(s(),r("label",De,l(t.business_name),1)):n("",!0)]),e("td",Se,[Ve,c(l(t.user.name),1)]),e("td",Ae,[Fe,t.status!="active"?(s(),r("label",He,"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01\u0E40\u0E21\u0E37\u0E48\u0E2D "+l(h(m)(t.updated_at).locale("th").format("D MMM BBBB HH:mm"))+" \u0E19. ",1)):n("",!0),t.status!="canceled"&&t.action!="checkin"&&t.user_id==o.$page.props.auth.user.id?(s(),r("button",{key:1,onClick:B=>p(t.id),class:"ml-3 bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 border border-red-500 rounded"},qe,8,Ie)):n("",!0),t.status!="canceled"&&t.action=="checkin"&&t.user_id==o.$page.props.auth.user.id?(s(),r("button",{key:2,onClick:B=>x(t.id,o.$page.props.stock_item.item_name,t.pur_order),class:"ml-3 bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-1 px-2 border border-yellow-500 rounded"},ze,8,Ee)):n("",!0)])]))),128))])]),f(h($),{href:o.route("report-list",d.stock.id)},{default:b(()=>[Te]),_:1},8,["href"]),f(D,{isModalOpen:u.value},{header:b(()=>[Ge]),body:b(()=>[e("div",Je,[e("label",Ke," \u0E0A\u0E37\u0E48\u0E2D\u0E27\u0E31\u0E2A\u0E14\u0E38:"+l(g.value),1),e("label",Qe," Pur.Order:"+l(k.value),1),Re])]),footer:b(()=>[e("div",{class:"w-full text-center md:block"},[e("button",{class:"mx-4 md:mb-0 bg-green-600 px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-white rounded-full hover:shadow-lg hover:bg-green-400",onClick:v}," \u0E15\u0E01\u0E25\u0E07 "),e("button",{class:"mx-4 md:mb-0 bg-red-500 border border-red-500 px-5 py-2 text-sm shadow-sm font-medium tracking-wider text-white rounded-full hover:shadow-lg hover:bg-red-600",onClick:y}," \u0E22\u0E01\u0E40\u0E25\u0E34\u0E01 ")])]),_:1},8,["isModalOpen"])]),_:1}))}};export{ot as default};
