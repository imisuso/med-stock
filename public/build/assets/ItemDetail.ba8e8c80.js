import{T as D,r as m,h as V,e as u,o as l,c as r,a as e,b as a,t as s,i as d,u as b,d as g,f as E,F as P,w as A,v as F}from"./app.b47429c9.js";import{A as N}from"./AppLayout.ab57a030.js";import{_ as B}from"./ModalUpToYou.21fe4361.js";import{_ as q}from"./PaginateMe.2deec904.js";import{d as h,b as z}from"./buddhistEra.c26972dc.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Navbar.cdce00da.js";const H={key:0,class:"alert-banner fixed right-0 m-2 w-5/6 md:w-full max-w-sm"},I=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1),T={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-green-300 shadow rounded-md text-green-800 font-bold",title:"close",for:"banneralert"},U=e("svg",{class:"fill-current text-white",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),W={key:1,class:"alert-banner fixed right-0 m-2 w-5/6 md:w-full max-w-sm"},G=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1),J={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-red-300 shadow rounded-md text-red-800 font-bold",title:"close",for:"banneralert"},K=e("svg",{class:"fill-current text-white",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),Q={key:2,class:"alert-banner fixed right-0 m-2 w-5/6 md:w-full max-w-sm"},R=e("input",{type:"checkbox",class:"hidden",id:"banneralert"},null,-1),X={class:"close cursor-pointer flex items-center justify-between w-full p-2 bg-yellow-200 shadow rounded-md text-red-800 font-bold",title:"close",for:"banneralert"},Y=e("svg",{class:"fill-current text-white",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),Z=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})],-1),ee={key:3,class:"mt-2 bg-blue-800 text-white text-xl text-center"},te={class:"w-full mt-2 p-2"},oe={class:"w-full bg-purple-100 mt-3 border-2 border-purple-300 rounded-lg lg:max-w-full lg:flex"},se={class:"w-full leading-normal border-b border-l border-r border-gray-200 rounded-b lg:border-l-0 lg:border-t lg:border-gray-200 lg:rounded-b-none lg:rounded-r"},le={class:"mb-2"},re={class:"p-2 text-md font-bold text-gray-900"},de={for:"",class:"text-blue-600"},ne={key:0,class:"flex flex-col lg:flex-col mb-2 text-md font-bold text-gray-900"},ce={class:"flex ml-2"},ae={class:"ml-2 text-red-600"},ie={class:"flex ml-2"},ue={class:"ml-2 text-blue-600"},be={key:0,class:"flex ml-2"},me={class:"ml-2 text-blue-600"},he={key:1,class:"flex ml-2"},_e={class:"ml-2 text-blue-600"},fe=e("label",{for:"",class:"text-red-600 text-sm"}," *\u0E25\u0E1A\u0E44\u0E14\u0E49\u0E40\u0E09\u0E1E\u0E32\u0E30\u0E1C\u0E49\u0E39\u0E17\u0E35\u0E48\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E19\u0E35\u0E49\u0E40\u0E17\u0E48\u0E32\u0E19\u0E31\u0E49\u0E19",-1),pe=e("div",{class:"flex"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-green-800 bg-green-100 rounded-full",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})]),e("label",{for:"",class:"text-sm"}," \u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E01\u0E32\u0E23\u0E23\u0E31\u0E1A\u0E27\u0E31\u0E2A\u0E14\u0E38\u0E40\u0E02\u0E49\u0E32\u0E04\u0E25\u0E31\u0E07")],-1),ge=e("div",{class:"flex"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-red-800 bg-red-100 rounded-full",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})]),e("label",{for:"",class:"text-sm"}," \u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E01\u0E32\u0E23\u0E40\u0E1A\u0E34\u0E01\u0E27\u0E31\u0E2A\u0E14\u0E38")],-1),we={key:4},xe={class:"min-w-full border-collapse block md:table md:rounded-md"},ke=e("thead",{class:"block md:table-header-group"},[e("tr",{class:"border border-grey-500 md:border-none block md:table-row absolute -top-full md:top-auto -left-full md:left-auto md:relative"},[e("th",{class:"bg-blue-300 p-2 text-black font-bold md:border md:border-grey-300 text-left block md:table-cell md:rounded-lg"}," \u0E27\u0E31\u0E19\u0E17\u0E35\u0E48[Pur.Order]"),e("th",{class:"bg-blue-300 p-2 text-black font-bold md:border md:border-grey-300 text-left block md:table-cell md:rounded-lg"}," \u0E08\u0E33\u0E19\u0E27\u0E19[\u0E23\u0E32\u0E04\u0E32\u0E15\u0E48\u0E2D\u0E2B\u0E19\u0E48\u0E27\u0E22]"),e("th",{class:"bg-blue-300 p-2 text-black font-bold md:border md:border-grey-300 text-left block md:table-cell md:rounded-lg"}," \u0E1A\u0E23\u0E34\u0E29\u0E31\u0E17"),e("th",{class:"bg-blue-300 p-2 text-black font-bold md:border md:border-grey-300 text-left block md:table-cell md:rounded-lg"}," \u0E1C\u0E39\u0E49\u0E1B\u0E0E\u0E34\u0E1A\u0E31\u0E15\u0E34"),e("th",{class:"bg-blue-300 p-2 text-black font-bold md:border md:border-grey-300 text-left block md:table-cell md:rounded-lg"}," ::")])],-1),ve={class:"block md:table-row-group"},ye={class:"text-left block md:table-cell md:border-b-2 md:border-gray-300"},Be=e("span",{class:"inline-block w-1/3 md:hidden font-bold"},"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48",-1),Me={class:"inline-flex px-2 text-lg font-semibold leading-5"},je={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-green-800 bg-green-100 rounded-full",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Ce=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"},null,-1),Le=[Ce],$e={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-red-800 bg-red-100 rounded-full",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Oe=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"},null,-1),Se=[Oe],De={key:0},Ve={class:"text-left block md:table-cell md:border-b-2 md:border-gray-300"},Ee=e("span",{class:"inline-block w-1/3 md:hidden font-bold"},"\u0E08\u0E33\u0E19\u0E27\u0E19[\u0E23\u0E32\u0E04\u0E32\u0E15\u0E48\u0E2D\u0E2B\u0E19\u0E48\u0E27\u0E22]",-1),Pe={key:0},Ae=["onClick"],Fe=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})],-1),Ne=[Fe],qe={class:"text-left block md:table-cell md:border-b-2 md:border-gray-300"},ze=e("span",{class:"inline-block w-1/3 md:hidden font-bold"},"\u0E1A\u0E23\u0E34\u0E29\u0E31\u0E17",-1),He={key:0,class:"text-sm"},Ie={class:"text-left block md:table-cell md:border-b-2 md:border-gray-300"},Te=e("span",{class:"inline-block w-1/3 md:hidden font-bold"},"\u0E1C\u0E39\u0E49\u0E1B\u0E0E\u0E34\u0E1A\u0E31\u0E15\u0E34",-1),Ue={class:"text-left text-sm block md:table-cell md:border-b-2 md:border-gray-300"},We=e("span",{class:"inline-block w-1/3 md:hidden font-bold"},"::",-1),Ge={key:0,for:""},Je=["onClick"],Ke=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),Qe=[Ke],Re=["onClick"],Xe=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),Ye=[Xe],Ze=e("p",{class:"text-md font-bold text-blue-700"},"\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E25\u0E1A\u0E27\u0E31\u0E2A\u0E14\u0E38\u0E19\u0E35\u0E49\u0E2D\u0E2D\u0E01\u0E08\u0E32\u0E01\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E04\u0E25\u0E31\u0E07\u0E27\u0E31\u0E2A\u0E14\u0E38\u0E43\u0E0A\u0E48\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?",-1),et={class:"text-gray-900 text-md font-medium"},tt={class:"flex justify-start w-full text-md"},ot={class:"flex justify-start w-full text-md"},st=e("label",{class:"flex mt-4 text-red-600 justify-start w-full text-sm"}," ***\u0E04\u0E33\u0E40\u0E15\u0E37\u0E2D\u0E19:\u0E2B\u0E32\u0E01\u0E25\u0E1A\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E27\u0E31\u0E2A\u0E14\u0E38\u0E19\u0E35\u0E49 \u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E01\u0E32\u0E23\u0E15\u0E31\u0E14\u0E2A\u0E15\u0E4A\u0E2D\u0E01\u0E02\u0E2D\u0E07\u0E27\u0E31\u0E2A\u0E14\u0E38\u0E19\u0E35\u0E49\u0E08\u0E30\u0E16\u0E39\u0E01\u0E25\u0E1A\u0E44\u0E1B\u0E42\u0E14\u0E22\u0E2D\u0E31\u0E15\u0E42\u0E19\u0E21\u0E31\u0E15\u0E34\u0E14\u0E49\u0E27\u0E22 ",-1),lt=e("p",{class:"text-md font-bold text-blue-700"},"\u0E41\u0E01\u0E49\u0E44\u0E02\u0E23\u0E32\u0E04\u0E32\u0E27\u0E31\u0E2A\u0E14\u0E38",-1),rt={class:"text-gray-900 text-md font-medium"},dt={class:"flex justify-start w-full text-md"},nt=e("label",{class:"flex justify-start w-full text-md"}," \u0E23\u0E30\u0E1A\u0E38\u0E23\u0E32\u0E04\u0E32\u0E17\u0E35\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E41\u0E01\u0E49\u0E44\u0E02: ",-1),_t={__name:"ItemDetail",props:{stock_item:{type:Object,required:!0},stock:{type:Object,required:!0},item_trans:{type:Object},checkin_last:{type:Object},item_balance:{type:Number},count_name:String,can_abilities:{type:Object,required:!0},can:{type:Object,required:!0}},setup(n){h.extend(z);const i=D({item_tran_id:0,price_edit_new:0,update_item:""}),_=m(!1),w=m(""),x=m(""),f=o=>o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),p=m(!1),k=m(""),M=(o,c)=>{p.value=!0,k.value=c,i.item_tran_id=o},j=()=>{p.value=!1},C=()=>{i.update_item="price",i.post(route("edit-price-item"),{preserveState:!1,preserveScroll:!0,onSuccess:o=>{},onError:o=>{console.log("error")},onFinish:o=>{}})},L=o=>{i.item_tran_id=o,i.post(route("cancel-checkout-stock-item"),{preserveState:!1,preserveScroll:!0,onSuccess:c=>{},onError:c=>{console.log("error")},onFinish:c=>{}})},$=(o,c,t)=>{_.value=!0,w.value=c,x.value=t,i.item_tran_id=o},O=()=>{_.value=!1,i.post(route("cancel-checkin-stock-item"),{preserveState:!1,preserveScroll:!0,onSuccess:o=>{},onError:o=>{console.log("error")},onFinish:o=>{}})},S=()=>{_.value=!1},v=()=>{history.back()};return(o,c)=>(l(),V(N,null,{default:u(()=>[o.$page.props.flash.status=="success"?(l(),r("div",H,[I,e("label",T,[a(s(o.$page.props.flash.msg)+" ",1),U])])):d("",!0),o.$page.props.flash.status=="error"?(l(),r("div",W,[G,e("label",J,[a(s(o.$page.props.flash.msg)+" ",1),K])])):d("",!0),o.$page.props.flash.status=="Warnning"?(l(),r("div",Q,[R,e("label",X,[a(s(o.$page.props.flash.msg)+" ",1),Y])])):d("",!0),e("button",{onClick:c[0]||(c[0]=t=>v()),class:"flex text-gray-600 font-bold"},[Z,a(" \u0E01\u0E25\u0E31\u0E1A ")]),n.checkin_last?(l(),r("div",ee,s(o.$page.props.stock.stockname),1)):d("",!0),e("div",te,[e("div",oe,[e("div",se,[e("div",le,[e("div",re,[a(" SAP:"+s(n.stock_item.item_code)+" ",1),e("label",de,s(n.stock_item.item_name),1),a(" (\u0E2B\u0E19\u0E48\u0E27\u0E22: "+s(n.count_name)+") ",1)]),n.checkin_last?(l(),r("div",ne,[e("div",ce,[a(" \u0E08\u0E33\u0E19\u0E27\u0E19\u0E04\u0E07\u0E40\u0E2B\u0E25\u0E37\u0E2D : "),e("p",ae,s(f(n.item_balance)),1)]),e("div",ie,[a(" Pur.Order : "),e("p",ue,s(n.checkin_last.pur_order),1)]),n.checkin_last?(l(),r("div",be,[a(" \u0E27\u0E31\u0E19\u0E2B\u0E21\u0E14\u0E2D\u0E32\u0E22\u0E38 : "),e("p",me,s(b(h)(n.checkin_last.date_expire).locale("th").format("D MMMM BBBB")),1)])):d("",!0),n.checkin_last?(l(),r("div",he,[a(" \u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E23\u0E31\u0E1A\u0E40\u0E02\u0E49\u0E32 : "),e("p",_e,s(b(h)(n.checkin_last.date_action).locale("th").format("D MMMM BBBB")),1)])):d("",!0)])):d("",!0)])])])]),fe,pe,ge,n.item_trans?(l(),r("div",we,[g(q,{pagination:n.item_trans},null,8,["pagination"])])):d("",!0),e("table",xe,[ke,e("tbody",ve,[(l(!0),r(P,null,E(n.item_trans.data,t=>(l(),r("tr",{key:t.id,class:"bg-white my-2 p-2 mb-2 border-2 rounded-md border-gray-500 block md:border-none md:table-row"},[e("td",ye,[Be,e("span",Me,[t.action=="checkin"?(l(),r("svg",je,Le)):d("",!0),t.action=="checkout"?(l(),r("svg",$e,Se)):d("",!0)]),a(s(b(h)(t.date_action).locale("th").format("D MMM BBBB"))+" ",1),t.action=="checkin"?(l(),r("label",De," ["+s(t.pur_order)+"]",1)):d("",!0)]),e("td",Ve,[Ee,a(" "+s(t.item_count)+" ",1),t.action=="checkin"?(l(),r("label",Pe," ["+s(f(t.price))+"]",1)):d("",!0),t.status!="canceled"&&t.action=="checkin"&&t.user_id==o.$page.props.auth.user.id?(l(),r("button",{key:1,onClick:y=>M(t.id,t.price),class:"ml-3 bg-green-300 hover:bg-green-200 border border-green-600 text-green-800 font-bold py-1 px-2 rounded-md"},Ne,8,Ae)):d("",!0)]),e("td",qe,[ze,t.action=="checkin"?(l(),r("label",He,s(t.business_name),1)):d("",!0)]),e("td",Ie,[Te,a(s(t.user.name),1)]),e("td",Ue,[We,t.status!="active"?(l(),r("label",Ge,"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01\u0E40\u0E21\u0E37\u0E48\u0E2D "+s(b(h)(t.updated_at).locale("th").format("D MMM BBBB HH:mm"))+" \u0E19. ",1)):d("",!0),t.status!="canceled"&&t.action!="checkin"&&t.user_id==o.$page.props.auth.user.id?(l(),r("button",{key:1,onClick:y=>L(t.id),class:"ml-3 bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 border border-red-500 rounded"},Qe,8,Je)):d("",!0),t.status!="canceled"&&t.action=="checkin"&&t.user_id==o.$page.props.auth.user.id?(l(),r("button",{key:2,onClick:y=>$(t.id,o.$page.props.stock_item.item_name,t.pur_order),class:"ml-3 bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-1 px-2 border border-yellow-500 rounded"},Ye,8,Re)):d("",!0)])]))),128))])]),e("button",{onClick:c[1]||(c[1]=t=>v()),class:"w-full flex justify-center my-2 py-2 text-md bg-blue-500 hover:bg-blue-700 text-white border border-blue-500 rounded"}," \u0E01\u0E25\u0E31\u0E1A "),g(B,{isModalOpen:_.value},{header:u(()=>[Ze]),body:u(()=>[e("div",et,[e("label",tt," \u0E0A\u0E37\u0E48\u0E2D\u0E27\u0E31\u0E2A\u0E14\u0E38:"+s(w.value),1),e("label",ot," Pur.Order:"+s(x.value),1),st])]),footer:u(()=>[e("div",{class:"w-full text-center md:block"},[e("button",{class:"mx-4 md:mb-0 bg-green-600 px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-white rounded-full hover:shadow-lg hover:bg-green-400",onClick:O}," \u0E15\u0E01\u0E25\u0E07 "),e("button",{class:"mx-4 md:mb-0 bg-red-500 border border-red-500 px-5 py-2 text-sm shadow-sm font-medium tracking-wider text-white rounded-full hover:shadow-lg hover:bg-red-600",onClick:S}," \u0E22\u0E01\u0E40\u0E25\u0E34\u0E01 ")])]),_:1},8,["isModalOpen"]),g(B,{isModalOpen:p.value},{header:u(()=>[lt]),body:u(()=>[e("div",rt,[e("label",dt," \u0E23\u0E32\u0E04\u0E32\u0E1B\u0E31\u0E08\u0E08\u0E38\u0E1A\u0E31\u0E19:"+s(f(k.value))+" \u0E1A\u0E32\u0E17 / \u0E2B\u0E19\u0E48\u0E27\u0E22 ",1),nt,A(e("input",{type:"number","onUpdate:modelValue":c[2]||(c[2]=t=>b(i).price_edit_new=t),class:"w-full px-12 py- border-2 border-blue-600 rounded-md appearance-none focus:border-blue-700 focus:ring focus:ring-opacity-40 focus:ring-blue-500"},null,512),[[F,b(i).price_edit_new]])])]),footer:u(()=>[e("div",{class:"w-full text-center md:block"},[e("button",{class:"mx-4 md:mb-0 bg-green-600 px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-white rounded-full hover:shadow-lg hover:bg-green-400",onClick:C}," \u0E15\u0E01\u0E25\u0E07 "),e("button",{class:"mx-4 md:mb-0 bg-red-500 border border-red-500 px-5 py-2 text-sm shadow-sm font-medium tracking-wider text-white rounded-full hover:shadow-lg hover:bg-red-600",onClick:j}," \u0E22\u0E01\u0E40\u0E25\u0E34\u0E01 ")])]),_:1},8,["isModalOpen"])]),_:1}))}};export{_t as default};
