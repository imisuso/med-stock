import{A as g}from"./AppLayout-BJKdIcXC.js";import{C as y,m as v,o as c,c as f,a as e,t as o,w as p,v as b,u,F as x,r as h,g as w,i as _,e as j,b as n,j as k,f as O,d as $}from"./app-D0dg4ktR.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Navbar-B_O4qWE3.js";const B={class:"bg-blue-200 text-blue-800"},I={class:"px-2 text-sm"},V={class:"w-full md:flex md:justify-between"},A={for:"",class:"px-4"},S={for:"",class:"px-4"},N={for:"",class:"px-4"},q={class:"w-full md:flex md:justify-between"},C={class:"m-2"},M={class:"m-2"},U={class:"m-2"},D={class:"w-full flex justify-center"},F={class:"flex justify-center px-4 py-1 text-sm text-white bg-green-600 rounded-md hover:bg-green-400 focus:outline-none"},L={__name:"ShowReceivePurchaseOrder",props:{itemIndex:{type:Number,required:!0},purchaseOrder:{type:Object,required:!0},oldItemsSum:{type:Array,required:!0}},setup(r){const i=r,l=y({date_checkout:"",receive_unit:0});l.receive_unit=i.purchaseOrder.order_input;const m=v(()=>i.purchaseOrder.price.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),a=v(()=>i.purchaseOrder.total.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","));return(t,s)=>(c(),f(x,null,[e("div",B," #"+o(r.itemIndex+1)+" รหัส:"+o(r.purchaseOrder.material)+" ชื่อ:"+o(r.purchaseOrder.item_name),1),e("div",I,"(ชื่อบริษัท/ร้านค้า:"+o(r.purchaseOrder.business_name)+" )",1),e("div",V,[e("div",null,[e("label",A," จำนวน "+o(r.purchaseOrder.order_input)+" "+o(r.purchaseOrder.unit_count),1)]),e("div",null,[e("label",S," ราคา/หน่วย "+o(m.value)+" บาท",1)]),e("div",null,[e("label",N," รวม "+o(a.value)+" บาท",1)])]),e("div",q,[e("div",C,[s[3]||(s[3]=e("div",{class:"flex justify-start"},[e("label",{class:"text-red-600"},"จำนวนที่ตรวจรับ มีไม่ตรงกับใบสั่งซื้อหรือไม่?:")],-1)),e("div",null,[p(e("input",{type:"number",name:"",id:"",class:"w-full px-2 py-2 border-2 rounded-md appearance-none focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500","onUpdate:modelValue":s[0]||(s[0]=d=>u(l).receive_unit=d)},null,512),[[b,u(l).receive_unit]])])]),e("div",M,[s[4]||(s[4]=e("div",{class:"flex justify-start"},[e("label",{class:"text-red-600"},"วันที่ตรวจรับ มีโอกาสตรวจรับแต่ละรายการคนละวันไหม?:")],-1)),e("div",null,[p(e("input",{type:"date",name:"",id:"","onUpdate:modelValue":s[1]||(s[1]=d=>u(l).date_checkout=d),class:"w-full px-2 py-2 border-2 rounded-md appearance-none focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500"},null,512),[[b,u(l).date_checkout]])])]),e("div",U,[s[5]||(s[5]=e("div",{class:"flex justify-start"},[e("label",{for:""},"วันที่หมดอายุ:")],-1)),e("div",null,[p(e("input",{type:"date",name:"",id:"","onUpdate:modelValue":s[2]||(s[2]=d=>u(l).date_checkout=d),class:"w-full px-2 py-2 border-2 rounded-md appearance-none focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500"},null,512),[[b,u(l).date_checkout]])])])]),e("div",D,[e("button",F," ตรวจรับรายการที่ "+o(r.itemIndex+1),1)])],64))}},P={class:"bg-blue-50"},R={class:"w-full flex justify-center font-bold"},T={class:"w-full flex justify-center p-2 my-2 border-b-2 border-gray-600"},z={class:"w-full"},E={class:"text-blue-700 font-bold"},G={class:"text-blue-700 font-bold"},H={class:"text-blue-700 font-bold"},J={class:"text-blue-700 font-bold"},K={key:0,class:"flex justify-center text-green-700 text-lg"},ee={__name:"ReceiveOrderPurchase",props:{order:{type:Object,required:!0},old_items_sum:{type:Array}},setup(r){const i=r,l=h(0);w(()=>{l.value=i.order.budget.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")});const m=v(()=>{let a=["","มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],t=i.order.date_order.split("-"),s=a[parseInt(t[1])],d=parseInt(t[0])+543;return parseInt(t[2])+" "+s+" "+d});return(a,t)=>(c(),_(g,null,{default:j(()=>[e("div",P,[t[7]||(t[7]=e("div",{class:"w-full flex justify-center font-bold"},"บันทึกการตรวจรับวัสดุจากใบสั่งซื้อ",-1)),e("div",R,o(a.$page.props.auth.user.profile.division_name),1),e("div",T,[e("div",z,[e("div",null,[t[0]||(t[0]=n("วันที่สั่งซื้อ: ")),e("label",E,o(m.value),1)]),e("div",null,[t[1]||(t[1]=n("ชื่อโครงการ: ")),e("label",G,o(r.order.project_name),1)]),e("div",null,[t[2]||(t[2]=n("จำนวน:")),e("label",H,o(r.order.items.length),1),t[3]||(t[3]=n(" รายการ"))]),e("div",null,[t[4]||(t[4]=n("วงเงินงบประมาณ:")),e("label",J,o(l.value),1),t[5]||(t[5]=n(" บาท"))])]),r.order.status=="checkin"?(c(),f("div",K,t[6]||(t[6]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})],-1),n(" ตรวจรับวัสดุเรียบร้อยแล้ว ")]))):k("",!0)])]),(c(!0),f(x,null,O(r.order.items,(s,d)=>(c(),f("div",{key:s.id,class:"m-2 p-2 border-b-2 border-blue-700 shadow-md"},[$(L,{"item-index":d,"purchase-order":s[0],"old-items-sum":r.old_items_sum},null,8,["item-index","purchase-order","old-items-sum"])]))),128)),t[8]||(t[8]=e("div",{class:"w-full flex justify-center"},[e("button",{class:"flex justify-center px-4 py-1 text-sm text-white bg-red-500 rounded-md hover:bg-green-400 focus:outline-none"}," ตรวจรับทั้งหมด? ")],-1))]),_:1}))}};export{ee as default};
